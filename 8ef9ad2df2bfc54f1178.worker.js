!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=84)}([function(t,e,n){"use strict";n.r(e),n.d(e,"version",function(){return wr}),n.d(e,"Collection",function(){return T}),n.d(e,"Iterable",function(){return Mr}),n.d(e,"Seq",function(){return Y}),n.d(e,"Map",function(){return Ae}),n.d(e,"OrderedMap",function(){return _n}),n.d(e,"List",function(){return nn}),n.d(e,"Stack",function(){return xn}),n.d(e,"Set",function(){return Pn}),n.d(e,"OrderedSet",function(){return ir}),n.d(e,"Record",function(){return lr}),n.d(e,"Range",function(){return Vn}),n.d(e,"Repeat",function(){return vr}),n.d(e,"is",function(){return pt}),n.d(e,"fromJS",function(){return _r}),n.d(e,"hash",function(){return mt}),n.d(e,"isImmutable",function(){return b}),n.d(e,"isCollection",function(){return w}),n.d(e,"isKeyed",function(){return S}),n.d(e,"isIndexed",function(){return M}),n.d(e,"isAssociative",function(){return x}),n.d(e,"isOrdered",function(){return O}),n.d(e,"isValueObject",function(){return z}),n.d(e,"get",function(){return re}),n.d(e,"getIn",function(){return Un}),n.d(e,"has",function(){return ne}),n.d(e,"hasIn",function(){return Qn}),n.d(e,"merge",function(){return ve}),n.d(e,"mergeDeep",function(){return be}),n.d(e,"mergeWith",function(){return _e}),n.d(e,"mergeDeepWith",function(){return we}),n.d(e,"remove",function(){return ie}),n.d(e,"removeIn",function(){return fe}),n.d(e,"set",function(){return ue}),n.d(e,"setIn",function(){return se}),n.d(e,"update",function(){return he}),n.d(e,"updateIn",function(){return ae});var r=5,o=1<<r,i=o-1,u={},a={value:!1},s={value:!1};function c(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function l(){}function h(t){return void 0===t.size&&(t.size=t.__iterate(d)),t.size}function p(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?h(t)+e:e}function d(){return!0}function g(t,e,n){return(0===t&&!_(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function m(t,e){return v(t,e,0)}function y(t,e){return v(t,e,e)}function v(t,e,n){return void 0===t?n:_(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function _(t){return t<0||0===t&&1/t==-1/0}function b(t){return w(t)||J(t)}function w(t){return!(!t||!t[I])}function S(t){return!(!t||!t[L])}function M(t){return!(!t||!t[j])}function x(t){return S(t)||M(t)}function O(t){return!(!t||!t[E])}function J(t){return!(!t||!t[A])}function z(t){return!(!t||"function"!=typeof t.equals||"function"!=typeof t.hashCode)}var I="@@__IMMUTABLE_ITERABLE__@@",L="@@__IMMUTABLE_KEYED__@@",j="@@__IMMUTABLE_INDEXED__@@",E="@@__IMMUTABLE_ORDERED__@@",A="@@__IMMUTABLE_RECORD__@@",T=function(t){return w(t)?t:Y(t)},P=function(t){function e(t){return S(t)?t:Z(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T),D=function(t){function e(t){return M(t)?t:tt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T),k=function(t){function e(t){return w(t)&&!x(t)?t:et(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T);T.Keyed=P,T.Indexed=D,T.Set=k;var q=0,N=1,C=2,R="function"==typeof Symbol&&Symbol.iterator,B="@@iterator",F=R||B,V=function(t){this.next=t};function U(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function K(){return{value:void 0,done:!0}}function Q(t){return!!G(t)}function H(t){return t&&"function"==typeof t.next}function W(t){var e=G(t);return e&&e.call(t)}function G(t){var e=t&&(R&&t[R]||t[B]);if("function"==typeof e)return e}V.prototype.toString=function(){return"[Iterator]"},V.KEYS=q,V.VALUES=N,V.ENTRIES=C,V.prototype.inspect=V.prototype.toSource=function(){return this.toString()},V.prototype[F]=function(){return this};var $=Object.prototype.hasOwnProperty;function X(t){return t&&"number"==typeof t.length}var Y=function(t){function e(t){return null===t||void 0===t?ct():b(t)?t.toSeq():function(t){var e=ht(t);if(e)return e;if("object"==typeof t)return new ot(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[e?r-++o:o++];if(!1===t(i[1],i[0],this))break}return o}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var r=n.length,o=0;return new V(function(){if(o===r)return{value:void 0,done:!0};var i=n[e?r-++o:o++];return U(t,i[0],i[1])})}return this.__iteratorUncached(t,e)},e}(T),Z=function(t){function e(t){return null===t||void 0===t?ct().toKeyedSeq():w(t)?S(t)?t.toSeq():t.fromEntrySeq():J(t)?t.toSeq():ft(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Y),tt=function(t){function e(t){return null===t||void 0===t?ct():w(t)?S(t)?t.entrySeq():t.toIndexedSeq():J(t)?t.toSeq().entrySeq():lt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Y),et=function(t){function e(t){return(w(t)&&!x(t)?t:tt(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Y);Y.isSeq=st,Y.Keyed=Z,Y.Set=et,Y.Indexed=tt;var nt="@@__IMMUTABLE_SEQ__@@";Y.prototype[nt]=!0;var rt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[p(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length,o=0;o!==r;){var i=e?r-++o:o++;if(!1===t(n[i],i,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._array,r=n.length,o=0;return new V(function(){if(o===r)return{value:void 0,done:!0};var i=e?r-++o:o++;return U(t,i,n[i])})},e}(tt),ot=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return $.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var u=r[e?o-++i:i++];if(!1===t(n[u],u,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length,i=0;return new V(function(){if(i===o)return{value:void 0,done:!0};var u=r[e?o-++i:i++];return U(t,u,n[u])})},e}(Z);ot.prototype[E]=!0;var it,ut=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=W(this._collection),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=W(this._collection);if(!H(n))return new V(K);var r=0;return new V(function(){var e=n.next();return e.done?e:U(t,r++,e.value)})},e}(tt),at=function(t){function e(t){this._iterator=t,this._iteratorCache=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var u=n.value;if(o[i]=u,!1===t(u,i++,this))break}return i},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new V(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return U(t,o,r[o++])})},e}(tt);function st(t){return!(!t||!t[nt])}function ct(){return it||(it=new rt([]))}function ft(t){var e=Array.isArray(t)?new rt(t):H(t)?new at(t):Q(t)?new ut(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new ot(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function lt(t){var e=ht(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function ht(t){return X(t)?new rt(t):H(t)?new at(t):Q(t)?new ut(t):void 0}function pt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(z(t)&&z(e)&&t.equals(e))}var dt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function gt(t){return t>>>1&1073741824|3221225471&t}function mt(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return gt(n)}if("string"===e)return t.length>xt?function(t){var e=zt[t];void 0===e&&(e=yt(t),Jt===Ot&&(Jt=0,zt={}),Jt++,zt[t]=e);return e}(t):yt(t);if("function"==typeof t.hashCode)return gt(t.hashCode());if("object"===e)return function(t){var e;if(wt&&void 0!==(e=bt.get(t)))return e;if(void 0!==(e=t[Mt]))return e;if(!_t){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Mt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++St,1073741824&St&&(St=0);if(wt)bt.set(t,e);else{if(void 0!==vt&&!1===vt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(_t)Object.defineProperty(t,Mt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Mt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Mt]=e}}return e}(t);if("function"==typeof t.toString)return yt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function yt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return gt(e)}var vt=Object.isExtensible,_t=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var bt,wt="function"==typeof WeakMap;wt&&(bt=new WeakMap);var St=0,Mt="__immutablehash__";"function"==typeof Symbol&&(Mt=Symbol(Mt));var xt=16,Ot=255,Jt=0,zt={},It=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Pt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,r=Tt(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e,r){return t(e,r,n)},e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(Z);It.prototype[E]=!0;var Lt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,r=0;return e&&h(this),this._iter.__iterate(function(o){return t(o,e?n.size-++r:r++,n)},e)},e.prototype.__iterator=function(t,e){var n=this,r=this._iter.__iterator(N,e),o=0;return e&&h(this),new V(function(){var i=r.next();return i.done?i:U(t,e?n.size-++o:o++,i.value,i)})},e}(tt),jt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(N,e);return new V(function(){var e=n.next();return e.done?e:U(t,e.value,e.value,e)})},e}(et),Et=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ut(e);var r=w(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(N,e);return new V(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ut(r);var o=w(r);return U(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},e}(Z);function At(t){var e=Qt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ht,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===C){var r=t.__iterator(e,n);return new V(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===N?q:N,n)},e}function Tt(t,e,n){var r=Qt(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,u);return i===u?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,u){return!1!==r(e.call(n,t,o,u),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(C,o);return new V(function(){var o=i.next();if(o.done)return o;var u=o.value,a=u[0];return U(r,a,e.call(n,u[1],a,t),o)})},r}function Pt(t,e){var n=this,r=Qt(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=At(t);return e.reverse=function(){return t.flip()},e}),r.get=function(n,r){return t.get(e?n:-1-n,r)},r.has=function(n){return t.has(e?n:-1-n)},r.includes=function(e){return t.includes(e)},r.cacheResult=Ht,r.__iterate=function(n,r){var o=this,i=0;return r&&h(t),t.__iterate(function(t,u){return n(t,e?u:r?o.size-++i:i++,o)},!r)},r.__iterator=function(r,o){var i=0;o&&h(t);var u=t.__iterator(C,!o);return new V(function(){var t=u.next();if(t.done)return t;var a=t.value;return U(r,e?a[0]:o?n.size-++i:i++,a[1],t)})},r}function Dt(t,e,n,r){var o=Qt(t);return r&&(o.has=function(r){var o=t.get(r,u);return o!==u&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,u);return i!==u&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var u=this,a=0;return t.__iterate(function(t,i,s){if(e.call(n,t,i,s))return a++,o(t,r?i:a-1,u)},i),a},o.__iteratorUncached=function(o,i){var u=t.__iterator(C,i),a=0;return new V(function(){for(;;){var i=u.next();if(i.done)return i;var s=i.value,c=s[0],f=s[1];if(e.call(n,f,c,t))return U(o,r?c:a++,f,i)}})},o}function kt(t,e,n,r){var o=t.size;if(g(e,n,o))return t;var i=m(e,o),u=y(n,o);if(i!=i||u!=u)return kt(t.toSeq().cacheResult(),e,n,r);var a,s=u-i;s==s&&(a=s<0?0:s);var c=Qt(t);return c.size=0===a?a:t.size&&a||void 0,!r&&st(t)&&a>=0&&(c.get=function(e,n){return(e=p(this,e))>=0&&e<a?t.get(e+i,n):n}),c.__iterateUncached=function(e,n){var o=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var u=0,s=!0,c=0;return t.__iterate(function(t,n){if(!s||!(s=u++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);if(0===a)return new V(K);var o=t.__iterator(e,n),u=0,s=0;return new V(function(){for(;u++<i;)o.next();if(++s>a)return{value:void 0,done:!0};var t=o.next();return r||e===N||t.done?t:U(e,s-1,e===q?void 0:t.value[1],t)})},c}function qt(t,e,n,r){var o=Qt(t);return o.__iterateUncached=function(o,i){var u=this;if(i)return this.cacheResult().__iterate(o,i);var a=!0,s=0;return t.__iterate(function(t,i,c){if(!a||!(a=e.call(n,t,i,c)))return s++,o(t,r?i:s-1,u)}),s},o.__iteratorUncached=function(o,i){var u=this;if(i)return this.cacheResult().__iterator(o,i);var a=t.__iterator(C,i),s=!0,c=0;return new V(function(){var t,i,f;do{if((t=a.next()).done)return r||o===N?t:U(o,c++,o===q?void 0:t.value[1],t);var l=t.value;i=l[0],f=l[1],s&&(s=e.call(n,f,i,u))}while(s);return o===C?t:U(o,i,f,t)})},o}function Nt(t,e,n){var r=Qt(t);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var u=0,a=!1;return function t(s,c){s.__iterate(function(i,s){return(!e||c<e)&&w(i)?t(i,c+1):(u++,!1===o(i,n?s:u-1,r)&&(a=!0)),!a},i)}(t,0),u},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=t.__iterator(r,o),u=[],a=0;return new V(function(){for(;i;){var t=i.next();if(!1===t.done){var s=t.value;if(r===C&&(s=s[1]),e&&!(u.length<e)||!w(s))return n?t:U(r,a++,s,t);u.push(i),i=s.__iterator(r,o)}else i=u.pop()}return{value:void 0,done:!0}})},r}function Ct(t,e,n){e||(e=Wt);var r=S(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).valueSeq().toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?Z(i):M(t)?tt(i):et(i)}function Rt(t,e,n){if(e||(e=Wt),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Bt(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Bt(e,t,n)?n:t})}function Bt(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!=n)||r>0}function Ft(t,e,n,r){var o=Qt(t),i=new rt(n).map(function(t){return t.size});return o.size=r?i.max():i.min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(N,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=n.map(function(t){return t=T(t),W(o?t.reverse():t)}),u=0,a=!1;return new V(function(){var n;return a||(n=i.map(function(t){return t.next()}),a=r?n.every(function(t){return t.done}):n.some(function(t){return t.done})),a?{value:void 0,done:!0}:U(t,u++,e.apply(null,n.map(function(t){return t.value})))})},o}function Vt(t,e){return t===e?t:st(t)?e:t.constructor(e)}function Ut(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Kt(t){return S(t)?P:M(t)?D:k}function Qt(t){return Object.create((S(t)?Z:M(t)?tt:et).prototype)}function Ht(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function Wt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Gt(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function $t(t,e){if(!t)throw new Error(e)}function Xt(t){$t(t!==1/0,"Cannot perform this action with an infinite size.")}function Yt(t){if(X(t)&&"string"!=typeof t)return t;if(O(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function Zt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function te(t){return b(t)||Array.isArray(t)||Zt(t)}function ee(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ne(t,e){return b(t)?t.has(e):te(t)&&$.call(t,e)}function re(t,e,n){return b(t)?t.get(e,n):ne(t,e)?"function"==typeof t.get?t.get(e):t[e]:n}function oe(t){if(Array.isArray(t))return Gt(t);var e={};for(var n in t)$.call(t,n)&&(e[n]=t[n]);return e}function ie(t,e){if(!te(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(b(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!$.call(t,e))return t;var n=oe(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function ue(t,e,n){if(!te(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(b(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if($.call(t,e)&&n===t[e])return t;var r=oe(t);return r[e]=n,r}function ae(t,e,n,r){r||(r=n,n=void 0);var o=function t(e,n,r,o,i,a){var s=n===u;if(o===r.length){var c=s?i:n,f=a(c);return f===c?n:f}if(!s&&!te(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(ee)+"]: "+n);var l=r[o];var h=s?u:re(n,l,u);var p=t(h===u?e:b(h),h,r,o+1,i,a);return p===h?n:p===u?ie(n,l):ue(s?e?Qe():{}:n,l,p)}(b(t),t,Yt(e),0,n,r);return o===u?n:o}function se(t,e,n){return ae(t,e,u,function(){return n})}function ce(t,e){return se(this,t,e)}function fe(t,e){return ae(t,e,function(){return u})}function le(t){return fe(this,t)}function he(t,e,n,r){return ae(t,[e],n,r)}function pe(t,e,n){return 1===arguments.length?t(this):he(this,t,e,n)}function de(t,e,n){return ae(this,t,e,n)}function ge(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ye(this,t)}function me(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ye(this,e,t)}function ye(t,e,n){for(var r=[],o=0;o<e.length;o++){var i=P(e[o]);0!==i.size&&r.push(i)}return 0===r.length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var e=n?function(e,r){he(t,r,u,function(t){return t===u?e:n(t,e,r)})}:function(e,n){t.set(n,e)},o=0;o<r.length;o++)r[o].forEach(e)}):t.constructor(r[0])}function ve(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Me(t,e)}function _e(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Me(e,n,t)}function be(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Se(t,e)}function we(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Se(e,n,t)}function Se(t,e,n){return Me(t,e,function(t){return function e(n,r,o){return te(n)&&te(r)?Me(n,[r],e):t?t(n,r,o):r}}(n))}function Me(t,e,n){if(!te(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(b(t))return t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.concat.apply(t,e);for(var r=Array.isArray(t),o=t,i=r?D:P,u=r?function(e){o===t&&(o=oe(o)),o.push(e)}:function(e,r){var i=$.call(o,r),u=i&&n?n(o[r],e,r):e;i&&u===o[r]||(o===t&&(o=oe(o)),o[r]=u)},a=0;a<e.length;a++)i(e[a]).forEach(u);return o}function xe(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Se(this,t)}function Oe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Se(this,e,t)}function Je(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ae(this,t,Qe(),function(t){return Me(t,e)})}function ze(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ae(this,t,Qe(),function(t){return Se(t,e)})}function Ie(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Le(){return this.__ownerID?this:this.__ensureOwner(new l)}function je(){return this.__ensureOwner()}function Ee(){return this.__altered}Lt.prototype.cacheResult=It.prototype.cacheResult=jt.prototype.cacheResult=Et.prototype.cacheResult=Ht;var Ae=function(t){function e(e){return null===e||void 0===e?Qe():Te(e)&&!O(e)?e:Qe().withMutations(function(n){var r=t(e);Xt(r.size),r.forEach(function(t,e){return n.set(e,t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Qe().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return He(this,t,e)},e.prototype.remove=function(t){return He(this,t,u)},e.prototype.deleteAll=function(t){var e=T(t);return 0===e.size?this:this.withMutations(function(t){e.forEach(function(e){return t.remove(e)})})},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qe()},e.prototype.sort=function(t){return _n(Ct(this,t))},e.prototype.sortBy=function(t,e){return _n(Ct(this,e,t))},e.prototype.__iterator=function(t,e){return new Fe(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ke(this.size,this._root,t,this.__hash):0===this.size?Qe():(this.__ownerID=t,this.__altered=!1,this)},e}(P);function Te(t){return!(!t||!t[Pe])}Ae.isMap=Te;var Pe="@@__IMMUTABLE_MAP__@@",De=Ae.prototype;De[Pe]=!0,De.delete=De.remove,De.removeAll=De.deleteAll,De.concat=De.merge,De.setIn=ce,De.removeIn=De.deleteIn=le,De.update=pe,De.updateIn=de,De.merge=ge,De.mergeWith=me,De.mergeDeep=xe,De.mergeDeepWith=Oe,De.mergeIn=Je,De.mergeDeepIn=ze,De.withMutations=Ie,De.wasAltered=Ee,De.asImmutable=je,De["@@transducer/init"]=De.asMutable=Le,De["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},De["@@transducer/result"]=function(t){return t.asImmutable()};var ke=function(t,e){this.ownerID=t,this.entries=e};ke.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,u=o.length;i<u;i++)if(pt(n,o[i][0]))return o[i][1];return r},ke.prototype.update=function(t,e,n,r,o,i,a){for(var s=o===u,c=this.entries,h=0,p=c.length;h<p&&!pt(r,c[h][0]);h++);var d=h<p;if(d?c[h][1]===o:s)return this;if(f(a),(s||!d)&&f(i),!s||1!==c.length){if(!d&&!s&&c.length>=Ze)return function(t,e,n,r){t||(t=new l);for(var o=new Re(t,mt(n),[n,r]),i=0;i<e.length;i++){var u=e[i];o=o.update(t,0,void 0,u[0],u[1])}return o}(t,c,r,o);var g=t&&t===this.ownerID,m=g?c:Gt(c);return d?s?h===p-1?m.pop():m[h]=m.pop():m[h]=[r,o]:m.push([r,o]),g?(this.entries=m,this):new ke(t,m)}};var qe=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};qe.prototype.get=function(t,e,n,o){void 0===e&&(e=mt(n));var u=1<<((0===t?e:e>>>t)&i),a=this.bitmap;return 0==(a&u)?o:this.nodes[Xe(a&u-1)].get(t+r,e,n,o)},qe.prototype.update=function(t,e,n,a,s,c,f){void 0===n&&(n=mt(a));var l=(0===e?n:n>>>e)&i,h=1<<l,p=this.bitmap,d=0!=(p&h);if(!d&&s===u)return this;var g=Xe(p&h-1),m=this.nodes,y=d?m[g]:void 0,v=We(y,t,e+r,n,a,s,c,f);if(v===y)return this;if(!d&&v&&m.length>=tn)return function(t,e,n,r,i){for(var u=0,a=new Array(o),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[u++]:void 0;return a[r]=i,new Ne(t,u+1,a)}(t,m,p,l,v);if(d&&!v&&2===m.length&&Ge(m[1^g]))return m[1^g];if(d&&v&&1===m.length&&Ge(v))return v;var _=t&&t===this.ownerID,b=d?v?p:p^h:p|h,w=d?v?Ye(m,g,v,_):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,u=0;u<r;u++)u===e&&(i=1),o[u]=t[u+i];return o}(m,g,_):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),u=0,a=0;a<o;a++)a===e?(i[a]=n,u=-1):i[a]=t[a+u];return i}(m,g,v,_);return _?(this.bitmap=b,this.nodes=w,this):new qe(t,b,w)};var Ne=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};Ne.prototype.get=function(t,e,n,o){void 0===e&&(e=mt(n));var u=(0===t?e:e>>>t)&i,a=this.nodes[u];return a?a.get(t+r,e,n,o):o},Ne.prototype.update=function(t,e,n,o,a,s,c){void 0===n&&(n=mt(o));var f=(0===e?n:n>>>e)&i,l=a===u,h=this.nodes,p=h[f];if(l&&!p)return this;var d=We(p,t,e+r,n,o,a,s,c);if(d===p)return this;var g=this.count;if(p){if(!d&&--g<en)return function(t,e,n,r){for(var o=0,i=0,u=new Array(n),a=0,s=1,c=e.length;a<c;a++,s<<=1){var f=e[a];void 0!==f&&a!==r&&(o|=s,u[i++]=f)}return new qe(t,o,u)}(t,h,g,f)}else g++;var m=t&&t===this.ownerID,y=Ye(h,f,d,m);return m?(this.count=g,this.nodes=y,this):new Ne(t,g,y)};var Ce=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};Ce.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,u=o.length;i<u;i++)if(pt(n,o[i][0]))return o[i][1];return r},Ce.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=mt(r));var s=o===u;if(n!==this.keyHash)return s?this:(f(a),f(i),$e(this,t,e,n,[r,o]));for(var c=this.entries,l=0,h=c.length;l<h&&!pt(r,c[l][0]);l++);var p=l<h;if(p?c[l][1]===o:s)return this;if(f(a),(s||!p)&&f(i),s&&2===h)return new Re(t,this.keyHash,c[1^l]);var d=t&&t===this.ownerID,g=d?c:Gt(c);return p?s?l===h-1?g.pop():g[l]=g.pop():g[l]=[r,o]:g.push([r,o]),d?(this.entries=g,this):new Ce(t,this.keyHash,g)};var Re=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};Re.prototype.get=function(t,e,n,r){return pt(n,this.entry[0])?this.entry[1]:r},Re.prototype.update=function(t,e,n,r,o,i,a){var s=o===u,c=pt(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(f(a),s?void f(i):c?t&&t===this.ownerID?(this.entry[1]=o,this):new Re(t,this.keyHash,[r,o]):(f(i),$e(this,t,e,mt(r),[r,o])))},ke.prototype.iterate=Ce.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},qe.prototype.iterate=Ne.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Re.prototype.iterate=function(t,e){return t(this.entry)};var Be,Fe=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Ue(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,r=e.index++,o=void 0;if(n.entry){if(0===r)return Ve(t,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return Ve(t,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return Ve(t,i.entry);e=this._stack=Ue(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(V);function Ve(t,e){return U(t,e[0],e[1])}function Ue(t,e){return{node:t,index:0,__prev:e}}function Ke(t,e,n,r){var o=Object.create(De);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Qe(){return Be||(Be=Ke(0))}function He(t,e,n){var r,o;if(t._root){var i=c(a),f=c(s);if(r=We(t._root,t.__ownerID,0,void 0,e,n,i,f),!f.value)return t;o=t.size+(i.value?n===u?-1:1:0)}else{if(n===u)return t;o=1,r=new ke(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Ke(o,r):Qe()}function We(t,e,n,r,o,i,a,s){return t?t.update(e,n,r,o,i,a,s):i===u?t:(f(s),f(a),new Re(e,r,[o,i]))}function Ge(t){return t.constructor===Re||t.constructor===Ce}function $e(t,e,n,o,u){if(t.keyHash===o)return new Ce(e,o,[t.entry,u]);var a,s=(0===n?t.keyHash:t.keyHash>>>n)&i,c=(0===n?o:o>>>n)&i,f=s===c?[$e(t,e,n+r,o,u)]:(a=new Re(e,o,u),s<c?[t,a]:[a,t]);return new qe(e,1<<s|1<<c,f)}function Xe(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Ye(t,e,n,r){var o=r?t:Gt(t);return o[e]=n,o}var Ze=o/4,tn=o/2,en=o/4,nn=function(t){function e(e){var n=hn();if(null===e||void 0===e)return n;if(rn(e))return e;var i=t(e),u=i.size;return 0===u?n:(Xt(u),u>0&&u<o?ln(0,u,r,null,new an(i.toArray())):n.withMutations(function(t){t.setSize(u),i.forEach(function(e,n){return t.set(n,e)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=p(this,t))>=0&&t<this.size){var n=gn(this,t+=this._origin);return n&&n.array[t&i]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=p(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?mn(t,e).set(0,n):mn(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=c(s);e>=yn(t._capacity)?r=pn(r,t.__ownerID,0,e,n,i):o=pn(o,t.__ownerID,t._level,e,n,i);if(!i.value)return t;if(t.__ownerID)return t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return ln(t._origin,t._capacity,t._level,o,r)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):hn()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){mn(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},e.prototype.pop=function(){return mn(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){mn(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},e.prototype.shift=function(){return mn(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++){var o=e[r],i=t("string"!=typeof o&&Q(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(t){n.forEach(function(e){return e.forEach(function(e){return t.push(e)})})}):this.constructor(n[0])},e.prototype.setSize=function(t){return mn(this,0,t)},e.prototype.slice=function(t,e){var n=this.size;return g(t,e,n)?this:mn(this,m(t,n),y(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,r=fn(this,e);return new V(function(){var o=r();return o===cn?{value:void 0,done:!0}:U(t,e?--n:n++,o)})},e.prototype.__iterate=function(t,e){for(var n,r=e?this.size:0,o=fn(this,e);(n=o())!==cn&&!1!==t(n,e?--r:r++,this););return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ln(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?hn():(this.__ownerID=t,this.__altered=!1,this)},e}(D);function rn(t){return!(!t||!t[on])}nn.isList=rn;var on="@@__IMMUTABLE_LIST__@@",un=nn.prototype;un[on]=!0,un.delete=un.remove,un.merge=un.concat,un.setIn=ce,un.deleteIn=un.removeIn=le,un.update=pe,un.updateIn=de,un.mergeIn=Je,un.mergeDeepIn=ze,un.withMutations=Ie,un.wasAltered=Ee,un.asImmutable=je,un["@@transducer/init"]=un.asMutable=Le,un["@@transducer/step"]=function(t,e){return t.push(e)},un["@@transducer/result"]=function(t){return t.asImmutable()};var an=function(t,e){this.array=t,this.ownerID=e};an.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var o=n>>>e&i;if(o>=this.array.length)return new an([],t);var u,a=0===o;if(e>0){var s=this.array[o];if((u=s&&s.removeBefore(t,e-r,n))===s&&a)return this}if(a&&!u)return this;var c=dn(this,t);if(!a)for(var f=0;f<o;f++)c.array[f]=void 0;return u&&(c.array[o]=u),c},an.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var o,u=n-1>>>e&i;if(u>=this.array.length)return this;if(e>0){var a=this.array[u];if((o=a&&a.removeAfter(t,e-r,n))===a&&u===this.array.length-1)return this}var s=dn(this,t);return s.array.splice(u+1),o&&(s.array[u]=o),s};var sn,cn={};function fn(t,e){var n=t._origin,i=t._capacity,u=yn(i),a=t._tail;return s(t._root,t._level,0);function s(t,c,f){return 0===c?function(t,r){var s=r===u?a&&a.array:t&&t.array,c=r>n?0:n-r,f=i-r;f>o&&(f=o);return function(){if(c===f)return cn;var t=e?--f:c++;return s&&s[t]}}(t,f):function(t,u,a){var c,f=t&&t.array,l=a>n?0:n-a>>u,h=1+(i-a>>u);h>o&&(h=o);return function(){for(;;){if(c){var t=c();if(t!==cn)return t;c=null}if(l===h)return cn;var n=e?--h:l++;c=s(f&&f[n],u-r,a+(n<<u))}}}(t,c,f)}}function ln(t,e,n,r,o,i,u){var a=Object.create(un);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=o,a.__ownerID=i,a.__hash=u,a.__altered=!1,a}function hn(){return sn||(sn=ln(0,0,r))}function pn(t,e,n,o,u,a){var s,c=o>>>n&i,l=t&&c<t.array.length;if(!l&&void 0===u)return t;if(n>0){var h=t&&t.array[c],p=pn(h,e,n-r,o,u,a);return p===h?t:((s=dn(t,e)).array[c]=p,s)}return l&&t.array[c]===u?t:(f(a),s=dn(t,e),void 0===u&&c===s.array.length-1?s.array.pop():s.array[c]=u,s)}function dn(t,e){return e&&t&&e===t.ownerID?t:new an(t?t.array.slice():[],e)}function gn(t,e){if(e>=yn(t._capacity))return t._tail;if(e<1<<t._level+r){for(var n=t._root,o=t._level;n&&o>0;)n=n.array[e>>>o&i],o-=r;return n}}function mn(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var o=t.__ownerID||new l,u=t._origin,a=t._capacity,s=u+e,c=void 0===n?a:n<0?a+n:u+n;if(s===u&&c===a)return t;if(s>=c)return t.clear();for(var f=t._level,h=t._root,p=0;s+p<0;)h=new an(h&&h.array.length?[void 0,h]:[],o),p+=1<<(f+=r);p&&(s+=p,u+=p,c+=p,a+=p);for(var d=yn(a),g=yn(c);g>=1<<f+r;)h=new an(h&&h.array.length?[h]:[],o),f+=r;var m=t._tail,y=g<d?gn(t,c-1):g>d?new an([],o):m;if(m&&g>d&&s<a&&m.array.length){for(var v=h=dn(h,o),_=f;_>r;_-=r){var b=d>>>_&i;v=v.array[b]=dn(v.array[b],o)}v.array[d>>>r&i]=m}if(c<a&&(y=y&&y.removeAfter(o,0,c)),s>=g)s-=g,c-=g,f=r,h=null,y=y&&y.removeBefore(o,0,s);else if(s>u||g<d){for(p=0;h;){var w=s>>>f&i;if(w!==g>>>f&i)break;w&&(p+=(1<<f)*w),f-=r,h=h.array[w]}h&&s>u&&(h=h.removeBefore(o,f,s-p)),h&&g<d&&(h=h.removeAfter(o,f,g-p)),p&&(s-=p,c-=p)}return t.__ownerID?(t.size=c-s,t._origin=s,t._capacity=c,t._level=f,t._root=h,t._tail=y,t.__hash=void 0,t.__altered=!0,t):ln(s,c,f,h,y)}function yn(t){return t<o?0:t-1>>>r<<r}var vn,_n=function(t){function e(t){return null===t||void 0===t?Sn():bn(t)?t:Sn().withMutations(function(e){var n=P(t);Xt(n.size),n.forEach(function(t,n){return e.set(n,t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Sn()},e.prototype.set=function(t,e){return Mn(this,t,e)},e.prototype.remove=function(t){return Mn(this,t,u)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?wn(e,n,t,this.__hash):0===this.size?Sn():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(Ae);function bn(t){return Te(t)&&O(t)}function wn(t,e,n,r){var o=Object.create(_n.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function Sn(){return vn||(vn=wn(Qe(),hn()))}function Mn(t,e,n){var r,i,a=t._map,s=t._list,c=a.get(e),f=void 0!==c;if(n===u){if(!f)return t;s.size>=o&&s.size>=2*a.size?(r=(i=s.filter(function(t,e){return void 0!==t&&c!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=a.remove(e),i=c===s.size-1?s.pop():s.set(c,void 0))}else if(f){if(n===s.get(c)[1])return t;r=a,i=s.set(c,[e,n])}else r=a.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):wn(r,i)}_n.isOrderedMap=bn,_n.prototype[E]=!0,_n.prototype.delete=_n.prototype.remove;var xn=function(t){function e(t){return null===t||void 0===t?jn():On(t)?t:jn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=p(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ln(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&On(e))return e;Xt(e.size);var n=this.size,r=this._head;return e.__iterate(function(t){n++,r={value:t,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):Ln(n,r)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):jn()},e.prototype.slice=function(e,n){if(g(e,n,this.size))return this;var r=m(e,this.size);if(y(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ln(o,i)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ln(this.size,this._head,t,this.__hash):0===this.size?jn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new rt(this.toArray()).__iterate(function(e,r){return t(e,r,n)},e);for(var r=0,o=this._head;o&&!1!==t(o.value,r++,n);)o=o.next;return r},e.prototype.__iterator=function(t,e){if(e)return new rt(this.toArray()).__iterator(t,e);var n=0,r=this._head;return new V(function(){if(r){var e=r.value;return r=r.next,U(t,n++,e)}return{value:void 0,done:!0}})},e}(D);function On(t){return!(!t||!t[zn])}xn.isStack=On;var Jn,zn="@@__IMMUTABLE_STACK__@@",In=xn.prototype;function Ln(t,e,n,r){var o=Object.create(In);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function jn(){return Jn||(Jn=Ln(0))}function En(t,e){if(t===e)return!0;if(!w(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||S(t)!==S(e)||M(t)!==M(e)||O(t)!==O(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!x(t);if(O(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&pt(o[1],t)&&(n||pt(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var a=!0,s=e.__iterate(function(e,r){if(n?!t.has(e):o?!pt(e,t.get(r,u)):!pt(t.get(r,u),e))return a=!1,!1});return a&&t.size===s}function An(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Tn(t){return te(t)?Y(t).map(Tn).toJSON():t}In[zn]=!0,In.shift=In.pop,In.unshift=In.push,In.unshiftAll=In.pushAll,In.withMutations=Ie,In.wasAltered=Ee,In.asImmutable=je,In["@@transducer/init"]=In.asMutable=Le,In["@@transducer/step"]=function(t,e){return t.unshift(e)},In["@@transducer/result"]=function(t){return t.asImmutable()};var Pn=function(t){function e(e){return null===e||void 0===e?Bn():Dn(e)&&!O(e)?e:Bn().withMutations(function(n){var r=t(e);Xt(r.size),r.forEach(function(t){return n.add(t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(P(t).keySeq())},e.intersect=function(t){return(t=T(t).toArray()).length?Nn.intersect.apply(e(t.pop()),t):Bn()},e.union=function(t){return(t=T(t).toArray()).length?Nn.union.apply(e(t.pop()),t):Bn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Cn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Cn(this,this._map.remove(t))},e.prototype.clear=function(){return Cn(this,this._map.clear())},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(n){for(var r=0;r<e.length;r++)t(e[r]).forEach(function(t){return n.add(t)})}):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map(function(e){return t(e)});var r=[];return this.forEach(function(t){e.every(function(e){return e.includes(t)})||r.push(t)}),this.withMutations(function(t){r.forEach(function(e){t.remove(e)})})},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map(function(e){return t(e)});var r=[];return this.forEach(function(t){e.some(function(e){return e.includes(t)})&&r.push(t)}),this.withMutations(function(t){r.forEach(function(e){t.remove(e)})})},e.prototype.sort=function(t){return ir(Ct(this,t))},e.prototype.sortBy=function(t,e){return ir(Ct(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e){return t(e,e,n)},e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(k);function Dn(t){return!(!t||!t[qn])}Pn.isSet=Dn;var kn,qn="@@__IMMUTABLE_SET__@@",Nn=Pn.prototype;function Cn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Rn(t,e){var n=Object.create(Nn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Bn(){return kn||(kn=Rn(Qe()))}Nn[qn]=!0,Nn.delete=Nn.remove,Nn.merge=Nn.concat=Nn.union,Nn.withMutations=Ie,Nn.asImmutable=je,Nn["@@transducer/init"]=Nn.asMutable=Le,Nn["@@transducer/step"]=function(t,e){return t.add(e)},Nn["@@transducer/result"]=function(t){return t.asImmutable()},Nn.__empty=Bn,Nn.__make=Rn;var Fn,Vn=function(t){function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);if($t(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(Fn)return Fn;Fn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+p(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return g(t,n,this.size)?this:(t=m(t,this.size),(n=y(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,r=this._step,o=e?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==t(o,e?n-++i:i++,this);)o+=e?-r:r;return i},e.prototype.__iterator=function(t,e){var n=this.size,r=this._step,o=e?this._start+(n-1)*r:this._start,i=0;return new V(function(){if(i===n)return{value:void 0,done:!0};var u=o;return o+=e?-r:r,U(t,e?n-++i:i++,u)})},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:En(this,t)},e}(tt);function Un(t,e,n){for(var r=Yt(e),o=0;o!==r.length;)if((t=re(t,r[o++],u))===u)return n;return t}function Kn(t,e){return Un(this,t,e)}function Qn(t,e){return Un(t,e,u)!==u}function Hn(){Xt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}T.isIterable=w,T.isKeyed=S,T.isIndexed=M,T.isAssociative=x,T.isOrdered=O,T.Iterator=V,An(T,{toArray:function(){Xt(this.size);var t=new Array(this.size||0),e=S(this),n=0;return this.__iterate(function(r,o){t[n++]=e?[o,r]:r}),t},toIndexedSeq:function(){return new Lt(this)},toJS:function(){return Tn(this)},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return Ae(this.toKeyedSeq())},toObject:Hn,toOrderedMap:function(){return _n(this.toKeyedSeq())},toOrderedSet:function(){return ir(S(this)?this.valueSeq():this)},toSet:function(){return Pn(S(this)?this.valueSeq():this)},toSetSeq:function(){return new jt(this)},toSeq:function(){return M(this)?this.toIndexedSeq():S(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return xn(S(this)?this.valueSeq():this)},toList:function(){return nn(S(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Vt(this,function(t,e){var n=S(t),r=[t].concat(e).map(function(t){return w(t)?n&&(t=P(t)):t=n?ft(t):lt(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===r.length)return t;if(1===r.length){var o=r[0];if(o===t||n&&S(o)||M(t)&&M(o))return o}var i=new rt(r);return n?i=i.toKeyedSeq():M(t)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),i}(this,t))},includes:function(t){return this.some(function(e){return pt(e,t)})},entries:function(){return this.__iterator(C)},every:function(t,e){Xt(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Vt(this,Dt(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Xt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Xt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(q)},map:function(t,e){return Vt(this,Tt(this,t,e))},reduce:function(t,e,n){return Xn(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return Xn(this,t,e,n,arguments.length<2,!0)},reverse:function(){return Vt(this,Pt(this,!0))},slice:function(t,e){return Vt(this,kt(this,t,e,!0))},some:function(t,e){return!this.every(tr(t),e)},sort:function(t){return Vt(this,Ct(this,t))},values:function(){return this.__iterator(N)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return h(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Ae().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return En(this,t)},entrySeq:function(){var t=this;if(t._cache)return new rt(t._cache);var e=t.toSeq().map(Zn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(tr(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(d)},flatMap:function(t,e){return Vt(this,function(t,e,n){var r=Kt(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Vt(this,Nt(this,t,!0))},fromEntrySeq:function(){return new Et(this)},get:function(t,e){return this.find(function(e,n){return pt(n,t)},void 0,e)},getIn:Kn,groupBy:function(t,e){return function(t,e,n){var r=S(t),o=(O(t)?_n():Ae()).asMutable();t.__iterate(function(i,u){o.update(e.call(n,i,u,t),function(t){return(t=t||[]).push(r?[u,i]:i),t})});var i=Kt(t);return o.map(function(e){return Vt(t,i(e))})}(this,t,e)},has:function(t){return this.get(t,u)!==u},hasIn:function(t){return Qn(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:T(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:T(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return pt(e,t)})},keySeq:function(){return this.toSeq().map(Yn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Rt(this,t)},maxBy:function(t,e){return Rt(this,e,t)},min:function(t){return Rt(this,t?er(t):rr)},minBy:function(t,e){return Rt(this,e?er(e):rr,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Vt(this,qt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(tr(t),e)},sortBy:function(t,e){return Vt(this,Ct(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Vt(this,function(t,e,n){var r=Qt(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var u=0;return t.__iterate(function(t,o,a){return e.call(n,t,o,a)&&++u&&r(t,o,i)}),u},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var u=t.__iterator(C,o),a=!0;return new V(function(){if(!a)return{value:void 0,done:!0};var t=u.next();if(t.done)return t;var o=t.value,s=o[0],c=o[1];return e.call(n,c,s,i)?r===C?t:U(r,s,c,t):(a=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(tr(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=O(t),n=S(t),r=e?1:0;return function(t,e){return e=dt(e,3432918353),e=dt(e<<15|e>>>-15,461845907),e=dt(e<<13|e>>>-13,5),e=dt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=gt((e=dt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+or(mt(t),mt(e))|0}:function(t,e){r=r+or(mt(t),mt(e))|0}:e?function(t){r=31*r+mt(t)|0}:function(t){r=r+mt(t)|0}),r)}(this))}});var Wn=T.prototype;Wn[I]=!0,Wn[F]=Wn.values,Wn.toJSON=Wn.toArray,Wn.__toStringMapper=ee,Wn.inspect=Wn.toSource=function(){return this.toString()},Wn.chain=Wn.flatMap,Wn.contains=Wn.includes,An(P,{flip:function(){return Vt(this,At(this))},mapEntries:function(t,e){var n=this,r=0;return Vt(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Vt(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var Gn=P.prototype;Gn[L]=!0,Gn[F]=Wn.entries,Gn.toJSON=Hn,Gn.__toStringMapper=function(t,e){return ee(e)+": "+ee(t)},An(D,{toKeyedSeq:function(){return new It(this,!1)},filter:function(t,e){return Vt(this,Dt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Vt(this,Pt(this,!1))},slice:function(t,e){return Vt(this,kt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=m(t,t<0?this.count():this.size);var r=this.slice(0,t);return Vt(this,1===n?r:r.concat(Gt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Vt(this,Nt(this,t,!1))},get:function(t,e){return(t=p(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=p(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Vt(this,function(t,e){var n=Qt(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(N,r),u=0;return new V(function(){return(!o||u%2)&&(o=i.next()).done?o:u%2?U(n,u++,e):U(n,u++,o.value,o)})},n}(this,t))},interleave:function(){var t=[this].concat(Gt(arguments)),e=Ft(this.toSeq(),tt.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Vt(this,n)},keySeq:function(){return Vn(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Vt(this,qt(this,t,e,!1))},zip:function(){return Vt(this,Ft(this,nr,[this].concat(Gt(arguments))))},zipAll:function(){return Vt(this,Ft(this,nr,[this].concat(Gt(arguments)),!0))},zipWith:function(t){var e=Gt(arguments);return e[0]=this,Vt(this,Ft(this,t,e))}});var $n=D.prototype;function Xn(t,e,n,r,o,i){return Xt(t.size),t.__iterate(function(t,i,u){o?(o=!1,n=t):n=e.call(r,n,t,i,u)},i),n}function Yn(t,e){return e}function Zn(t,e){return[e,t]}function tr(t){return function(){return!t.apply(this,arguments)}}function er(t){return function(){return-t.apply(this,arguments)}}function nr(){return Gt(arguments)}function rr(t,e){return t<e?1:t>e?-1:0}function or(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}$n[j]=!0,$n[E]=!0,An(k,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),k.prototype.has=Wn.includes,k.prototype.contains=k.prototype.includes,An(Z,P.prototype),An(tt,D.prototype),An(et,k.prototype);var ir=function(t){function e(t){return null===t||void 0===t?fr():ur(t)?t:fr().withMutations(function(e){var n=k(t);Xt(n.size),n.forEach(function(t){return e.add(t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(P(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Pn);function ur(t){return Dn(t)&&O(t)}ir.isOrderedSet=ur;var ar,sr=ir.prototype;function cr(t,e){var n=Object.create(sr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function fr(){return ar||(ar=cr(Sn()))}sr[E]=!0,sr.zip=$n.zip,sr.zipWith=$n.zipWith,sr.__empty=fr,sr.__make=cr;var lr=function(t,e){var n,r=function(i){var u=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t),s=o._indices={};o._name=e,o._keys=a,o._defaultValues=t;for(var c=0;c<a.length;c++){var f=a[c];s[f]=c,o[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+dr(u)+' with property "'+f+'" since that property name is part of the Record API.'):mr(o,f)}}this.__ownerID=void 0,this._values=nn().withMutations(function(t){t.setSize(u._keys.length),P(i).forEach(function(e,n){t.set(u._indices[n],e===u._defaultValues[n]?void 0:e)})})},o=r.prototype=Object.create(hr);return o.constructor=r,r};lr.prototype.toString=function(){for(var t,e=dr(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)t=n[r],e+=(r?", ":"")+t+": "+ee(this.get(t));return e+" }"},lr.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&gr(this).equals(gr(t))},lr.prototype.hashCode=function(){return gr(this).hashCode()},lr.prototype.has=function(t){return this._indices.hasOwnProperty(t)},lr.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._indices[t],r=this._values.get(n);return void 0===r?this._defaultValues[t]:r},lr.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return pr(this,n)}return this},lr.prototype.remove=function(t){return this.set(t)},lr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:pr(this,t)},lr.prototype.wasAltered=function(){return this._values.wasAltered()},lr.prototype.toSeq=function(){return gr(this)},lr.prototype.toJS=function(){return Tn(this)},lr.prototype.entries=function(){return this.__iterator(C)},lr.prototype.__iterator=function(t,e){return gr(this).__iterator(t,e)},lr.prototype.__iterate=function(t,e){return gr(this).__iterate(t,e)},lr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?pr(this,e,t):(this.__ownerID=t,this._values=e,this)},lr.isRecord=J,lr.getDescriptiveName=dr;var hr=lr.prototype;function pr(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function dr(t){return t._name||t.constructor.name||"Record"}function gr(t){return ft(t._keys.map(function(e){return[e,t.get(e)]}))}function mr(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){$t(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}hr[A]=!0,hr.delete=hr.remove,hr.deleteIn=hr.removeIn=le,hr.getIn=Kn,hr.hasIn=Wn.hasIn,hr.merge=ge,hr.mergeWith=me,hr.mergeIn=Je,hr.mergeDeep=xe,hr.mergeDeepWith=Oe,hr.mergeDeepIn=ze,hr.setIn=ce,hr.update=pe,hr.updateIn=de,hr.withMutations=Ie,hr.asMutable=Le,hr.asImmutable=je,hr[F]=hr.entries,hr.toJSON=hr.toObject=Wn.toObject,hr.inspect=hr.toSource=function(){return this.toString()};var yr,vr=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this._value=t,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(yr)return yr;yr=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return pt(this._value,t)},e.prototype.slice=function(t,n){var r=this.size;return g(t,n,r)?this:new e(this._value,y(n,r)-m(t,r))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return pt(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return pt(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var n=this.size,r=0;r!==n&&!1!==t(this._value,e?n-++r:r++,this););return r},e.prototype.__iterator=function(t,e){var n=this,r=this.size,o=0;return new V(function(){return o===r?{value:void 0,done:!0}:U(t,e?r-++o:o++,n._value)})},e.prototype.equals=function(t){return t instanceof e?pt(this._value,t._value):En(t)},e}(tt);function _r(t,e){return function t(e,n,r,o,i,u){var a=Array.isArray(r)?tt:Zt(r)?Z:null;if(a){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==o&&i.push(o);var s=n.call(u,o,a(r).map(function(o,u){return t(e,n,o,u,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),s}return r}([],e||br,t,"",e&&e.length>2?[]:void 0,{"":t})}function br(t,e){return S(e)?e.toMap():e.toList()}var wr="4.0.0-rc.9",Sr={version:wr,Collection:T,Iterable:T,Seq:Y,Map:Ae,OrderedMap:_n,List:nn,Stack:xn,Set:Pn,OrderedSet:ir,Record:lr,Range:Vn,Repeat:vr,is:pt,fromJS:_r,hash:mt,isImmutable:b,isCollection:w,isKeyed:S,isIndexed:M,isAssociative:x,isOrdered:O,isValueObject:z,get:re,getIn:Un,has:ne,hasIn:Qn,merge:ve,mergeDeep:be,mergeWith:_e,mergeDeepWith:we,remove:ie,removeIn:fe,set:ue,setIn:se,update:he,updateIn:ae},Mr=T;e.default=Sr},function(t,e){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));if(3!==arguments.length)return r[e];r[e]=n}},function(t,e,n){var r=n(7);t.exports=r},function(t,e){
/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));for(var o in e.__flags||(e.__flags=Object.create(null)),n=3!==arguments.length||n,r)(n||"object"!==o&&"ssfi"!==o&&"lockSsfi"!==o&&"message"!=o)&&(e.__flags[o]=r[o])}},function(t,e){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","inspect","toJSON"]}},function(t,e,n){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=[];
/*!
 * Chai version
 */e.version="4.1.2",
/*!
 * Assertion Error
 */
e.AssertionError=n(38);
/*!
 * Utils for plugins (not exported)
 */
var o=n(81);e.use=function(t){return~r.indexOf(t)||(t(e,o),r.push(t)),e},
/*!
 * Utility Functions
 */
e.util=o;
/*!
 * Configuration
 */
var i=n(4);e.config=i;
/*!
 * Primary `Assertion` prototype
 */
var u=n(63);e.use(u);
/*!
 * Core Assertions
 */
var a=n(62);e.use(a);
/*!
 * Expect interface
 */
var s=n(61);e.use(s);
/*!
 * Should interface
 */
var c=n(60);e.use(c);
/*!
 * Assert interface
 */
var f=n(59);e.use(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSubIdList=e.getLeafIdArray=e.getIDPath=e.fromLegacyCsv=e.setParentPath=e.toStrList2=e.fromJs=e.toJs=e.fromJson=e.toJson=e.sortByMaxRemainingPathLength=e.sortByDate=e.sortBySize=e.computeDerivatedData=e.makeTree=e.pushOnQueue=e.rootId=e.volume=e.contentQueueFromJs=e.contentQueueToJs=e.contentQueueFromJson=e.contentQueueToJson=e.arbitraryContentQueue=e.ghostTreeFromJs=e.deleteTag=e.renameTag=e.getAllTagsSizes=e.getAllTags=e.updateTagsSizes=e.getAllChildren=e.deleteTagged=e.addTagged=e.getTagged=e.getTagsByID=e.setSessionName=e.getSessionName=e.updateByID=e.setByID=e.getByID=e.parentPath=e.depth=e.size_overall=e.size_files=e.empty=e.arbitrary=e.tagsSizesFromJson=e.tagsSizesToJson=e.tagsSizesFromJs=e.tagsSizesToJs=e.arbitraryTagsSizes=e.tagsFromJson=e.tagsToJson=e.tagsFromJs=e.tagsToJs=e.arbitraryTags=e.qeFromJson=e.qeToJson=e.qeFromJs=e.qeToJs=e.arbitraryQe=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(0),i=n(23),u=l(n(82)),a=l(n(25)),s=l(n(24)),c=l(n(14)),f=(l(n(22)),l(n(39)));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var h=Object.assign({},f);h.arbitrary=h.arbitrary(s.update,s.arbitrary),h.update=h.update(s.update);var p=h.sort(s.compareSize),d=(h.isSorted(s.compareSize),h.sort(s.compareDate));h.isSorted(s.compareDate);h.toStrList2=h.toStrList2(s.toStrListHeader,s.toStrList),h.toJson=h.toJson(s.toJson),h.fromJson=h.fromJson(s.fromJson),h.toJs=h.toJs(s.toJs),h.fromJs=h.fromJs(s.fromJs);var g=(0,o.Record)({path:(0,o.List)(),content:null}),m=function(){return(0,o.List)(c.array(function(){return"p"+Math.round(1*Math.random())}))},y=e.arbitraryQe=function(){return new g({path:m(),content:s.arbitrary()})},v=e.qeToJs=function(t){return t=(t=(t=t.update("path",function(t){return t.toJS()})).update("content",s.toJs)).toJS()},_=e.qeFromJs=function(t){return t=(t=(t=new g(t)).update("path",o.List)).update("content",s.fromJs)},b=(e.qeToJson=function(t){return t=(t=t.update("path",function(t){return t.toJS()})).update("content",s.toJson),t=JSON.stringify(t.toJS())},e.qeFromJson=function(t){return t=(t=(t=new g(JSON.parse(t))).update("path",o.List)).update("content",s.fromJson)},(0,o.Record)({session_name:"Untitled",version:8,content_queue:(0,o.List)(),tree:null,tags:(0,o.Map)(),tags_sizes:(0,o.Map)(),parent_path:(0,o.List)()})),w=e.arbitraryTags=function(){return c.immutableMap(c.string,function(){return c.immutableSet(function(){return(0,i.generateRandomString)(40)})})},S=e.tagsToJs=function(t){return t.toJS()},M=e.tagsFromJs=function(t){return t=(t=(0,o.Map)(t)).map(o.Set)},x=(e.tagsToJson=function(t){return t=S(t),t=JSON.stringify(t)},e.tagsFromJson=function(t){return t=JSON.parse(t),t=M(t)},e.arbitraryTagsSizes=function(){return c.immutableMap(c.string,c.natural)}),O=e.tagsSizesToJs=function(t){return t.toJS()},J=e.tagsSizesFromJs=function(t){return t=(0,o.Map)(t)},z=(e.tagsSizesToJson=function(t){return t=O(t),t=JSON.stringify(t)},e.tagsSizesFromJson=function(t){return t=JSON.parse(t),t=J(t)},e.arbitrary=function(){for(var t=z(),e=2*c.index()-1;e>=0;e--)t=P(m().join("/"),s.arbitrary(),t);return t=D(t),t=(t=(t=k(t)).set("tags",w())).set("tags_sizes",x())},e.empty=function(){return new b({tree:h.init(s.create())})}),I=(e.size_files=function(t){return t.get("content_queue").size},e.size_overall=function(t){return t.get("tree").get("table").size-1},e.depth=function(t){return h.depth(t.get("tree"))},e.parentPath=function(t){return t.get("parent_path").toArray()},e.getByID=function(t,e){return h.getEntryById(t,e.get("tree"))}),L=(e.setByID=function(t,e,n){return n.update("tree",function(n){return h.setEntryById(t,e,n)})},e.updateByID=function(t,e,n){return n.update("tree",function(n){return h.updateEntryById(t,e,n)})},e.getSessionName=function(t){return t.get("session_name")},e.setSessionName=function(t,e){return e.set("session_name",t)},e.getTagsByID=function(t,e){return t.get("tags").reduce(function(t,n,r){return n.has(e)?t.add(r):t},o.Set.of())},e.getTagged=function(t,e){return t.get("tags").get(e)},e.addTagged=function(t,e,n){var r=t.update("tags",function(t){return t.update(e,function(t){return void 0===t?o.Set.of(n):t.add(n)})});return r=j(r,e)},e.deleteTagged=function(t,e,n){return t.get("tags").has(e)&&(t=t.update("tags",function(t){var r=t.update(e,function(t){return t.delete(n)});return 0===r.get(e).size?t.delete(e):r}),t=j(t,e)),t},e.getAllChildren=function t(e,n){var r=e.get(n).get("children"),i=o.Set.of(n);return r.size>0?r.reduce(function(n,r){return n.union(t(e,r))},i):i}),j=e.updateTagsSizes=function(t,e){if(t.get("tags").has(e)){for(var n=t.get("tree").get("table"),r=t.get("tags").get(e).sortBy(function(t){return-1*n.get(t).get("content").get("size")}),i=o.Set.of(),u=function(){var t=r.first();i=i.add(t);var e=L(n,t);r=r.reduce(function(t,n){return e.includes(n)?t:t.add(n)},o.Set.of())};r.size>0;)u();var a=i.reduce(function(t,e){return t+n.get(e).get("content").get("size")},0);t=t.update("tags_sizes",function(t){return a>0?t.set(e,a):t.delete(e)})}else t=t.update("tags_sizes",function(t){return t.delete(e)});return t},E=(e.getAllTags=function(t){return t.get("tags")},e.getAllTagsSizes=function(t){return t.get("tags_sizes")},e.renameTag=function(t,e,n){return t.get("tags").has(e)&&!t.get("tags").has(n)&&(t=(t=t.update("tags",function(t){return t.mapKeys(function(t){return t===e?n:t})})).update("tags_sizes",function(t){return t.mapKeys(function(t){return t===e?n:t})})),t},e.deleteTag=function(t,e){return t=(t=t.update("tags",function(t){return t.delete(e)})).update("tags_sizes",function(t){return t.delete(e)})},e.ghostTreeFromJs=function(t,e){return e=e.set("tree",h.fromJs(t))},e.arbitraryContentQueue=function(){return c.immutableList(y)},e.contentQueueToJson=function(t){return t=E(t),t=JSON.stringify(t)},e.contentQueueFromJson=function(t){return t=JSON.parse(t),t=A(t)},e.contentQueueToJs=function(t){return t=(t=t.map(v)).toJS()}),A=e.contentQueueFromJs=function(t){return t=(t=(0,o.List)(t)).map(_)},T=(e.volume=function(t){return s.getSize(I(T(t),t).get("content"))},e.rootId=function(t){return h.getRootId(t.get("tree"))}),P=e.pushOnQueue=function(t,e,n){return n=n.update("content_queue",function(n){return n.push(function(t,e){return new g({path:(0,o.List)(t.split("/")),content:e})}(t,e))})},D=e.makeTree=function(t){return t=t.update("tree",function(e){return e=e.asMutable(),t.get("content_queue").forEach(function(t){e=function(t,e){return e=h.update(t.get("path").toJS(),t.get("content"),e)}(t,e)}),e.asImmutable()})},k=(e.computeDerivatedData=function(t){return t=t.update("tree",function(t){return t=h.mapContent(s.computeDerivatedData,t)})},e.sortBySize=a.make(function(t){return t=t.update("tree",p)})),q=(e.sortByDate=a.make(function(t){return t=t.update("tree",d)}),e.sortByMaxRemainingPathLength=a.make(function(t){return t=t.update("tree",h.sortByMaxRemainingPathLength)}),e.toJson=a.make(function(t){return t=q(t),JSON.stringify(t)}),e.fromJson=function(t){var e=u.fromAnyJsonToJs(JSON.parse,t);return e=N(e)},e.toJs=function(t){return(t=(t=(t=(t=t.update("tree",h.toJs)).update("content_queue",E)).update("tags",S)).update("tags_sizes",O)).toJS()}),N=e.fromJs=function(t){var e=new b(t);return e=(e=(e=(e=(e=e.update("tags",M)).update("tags_sizes",J)).update("content_queue",A)).update("tree",h.fromJs)).update("parent_path",o.List)};e.toStrList2=a.make(function(t){return h.toStrList2(t.get("tree"),t.get("tags"))}),e.setParentPath=function(t,e){return e.set("parent_path",(0,o.List)(t))},e.fromLegacyCsv=function(t){var e=function(t,e){return e.set("version",t)}(4,z());t.split("\n").filter(function(t){return""!==t}).map(function(t){return t.match(/(".*?")|([^,"\s]*)/g).filter(function(t){return""!==t}).map(function(t){return t.replace(/"/g,"")})}).forEach(function(t){var n=r(t,2),o=n[0],i=n[1];e=P(o,s.create({size:Number(i)}),e)});return e=D(e),e=k(e)},e.getIDPath=function(t,e){return h.getIdPath(t,e.get("tree"))},e.getLeafIdArray=function(t){return h.getLeafIdArray(t.get("tree"))},e.getSubIdList=function(t,e){return h.getSubIdList(t,e.get("tree"))}},function(t,e,n){var r={};t.exports=r,r.themes={};var o=r.styles=n(58),i=Object.defineProperties;r.supportsColor=n(57).supportsColor,void 0===r.enabled&&(r.enabled=!1!==r.supportsColor()),r.stripColors=r.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};r.stylize=function(t,e){return r.enabled?o[e].open+t+o[e].close:t+""};var u=/[|\\{}()[\]^$+*?.]/g;function a(t){var e=function t(){return function(){var t=arguments,e=t.length,n=0!==e&&String(arguments[0]);if(e>1)for(var i=1;i<e;i++)n+=" "+t[i];if(!r.enabled||!n)return n;var u=this._styles,a=u.length;for(;a--;){var s=o[u[a]];n=s.open+n.replace(s.closeRe,s.open)+s.close}return n}.apply(t,arguments)};return e._styles=t,e.__proto__=c,e}var s=function(){var t={};return o.grey=o.gray,Object.keys(o).forEach(function(e){o[e].closeRe=new RegExp(function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(u,"\\$&")}(o[e].close),"g"),t[e]={get:function(){return a(this._styles.concat(e))}}}),t}(),c=i(function(){},s);r.setTheme=function(t){if("string"!=typeof t)for(var e in t)!function(e){r[e]=function(n){if("object"==typeof t[e]){var o=n;for(var i in t[e])o=r[t[e][i]](o);return o}return r[t[e]](n)}}(e);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f=function(t,e){var n=e.split("");return(n=n.map(t)).join("")};for(var l in r.trap=n(54),r.zalgo=n(53),r.maps={},r.maps.america=n(52),r.maps.zebra=n(51),r.maps.rainbow=n(50),r.maps.random=n(49),r.maps)!function(t){r[t]=function(e){return f(r.maps[t],e)}}(l);i(r,function(){var t={};return Object.keys(s).forEach(function(e){t[e]={get:function(){return a([e])}}}),t}())},function(t,e){t.exports=((t,e)=>{const n=t.assert,r=t.Assertion;function o(t,e,n=!1){return s(t)?i(t,e,n):u(t,e,n)}function i(t,e,n=!1){const r={},o=Object.keys(t),c=!!n;for(let n=0;n<o.length;n++){const f=o[n],l=t[f],h=-1===e.indexOf(f);c&&h&&s(l)?r[f]=i(l,e,!0):c&&h&&a(l)?r[f]=u(l,e,!0):h&&(r[f]=l)}return r}function u(t,e,n=!1){const r=[];let o={};if(!t.length)return r;for(let c=0;c<t.length;c++)o=s(t[c])?i(t[c],e,n):a(t[c])?u(t[c],e,n):t[c],r.push(o);return r}function a(t){return Array.isArray(t)}function s(t){return t===Object(t)&&"[object Array]"!==Object.prototype.toString.call(t)}function c(t){return function(n){const r=e.flag(this,"excludingProps");e.flag(this,"excluding")?n=o(n,r):e.flag(this,"excludingEvery")&&(n=o(n,r,!0)),t.apply(this,arguments)}}e.addMethod(n,"deepEqualExcluding",function(t,e,n,o){new r(t,o).excluding(n).to.deep.equal(e)}),e.addMethod(n,"deepEqualExcludingEvery",function(t,e,n,o){new r(t,o).excludingEvery(n).to.deep.equal(e)}),r.addMethod("excluding",function(t){e.expectTypes(this,["object","array"]);const n=this._obj;if(!t)return this;if("string"==typeof t&&(t=[t]),!a(t))throw new Error("Excluding params should be either a string or an array");this._obj=o(n,t),e.flag(this,"excluding",!0),e.flag(this,"excludingProps",t)}),r.addMethod("excludingEvery",function(t){e.expectTypes(this,["object","array"]);const n=this._obj;if(!t)return this;if("string"==typeof t&&(t=[t]),!a(t))throw new Error("Excluding params should be either a string or an array");this._obj=o(n,t,!0),e.flag(this,"excludingEvery",!0),e.flag(this,"excludingProps",t)}),r.overwriteMethod("eq",c),r.overwriteMethod("equal",c),r.overwriteMethod("equals",c)})},function(t,e,n){var r=n(4),o=n(1),i=n(35),u=n(11),a=["__flags","__methods","_obj","assert"];function s(t,e,n){if(!n){n=[];for(var r=0;r<=t.length;r++)n[r]=[]}return n[t.length]&&n[t.length][e.length]||(0===t.length||0===e.length?n[t.length][e.length]=Math.max(t.length,e.length):n[t.length][e.length]=Math.min(s(t.slice(0,-1),e,n)+1,s(t,e.slice(0,-1),n)+1,s(t.slice(0,-1),e.slice(0,-1),n)+(t.slice(-1)===e.slice(-1)?0:1))),n[t.length][e.length]}t.exports=function(t,e){return u()?new Proxy(t,{get:function t(n,u){if("string"==typeof u&&-1===r.proxyExcludedKeys.indexOf(u)&&!Reflect.has(n,u)){if(e)throw Error("Invalid Chai property: "+e+"."+u+'. See docs for proper usage of "'+e+'".');var c=i(n).filter(function(t){return!Object.prototype.hasOwnProperty(t)&&-1===a.indexOf(t)}).sort(function(t,e){return s(u,t)-s(u,e)});throw c.length&&s(c[0],u)<4?Error("Invalid Chai property: "+u+'. Did you mean "'+c[0]+'"?'):Error("Invalid Chai property: "+u)}return-1!==a.indexOf(u)||o(n,"lockSsfi")||o(n,"ssfi",t),Reflect.get(n,u)}}):t}},function(t,e,n){n(4);var r=Object.getOwnPropertyDescriptor(function(){},"length");
/*!
 * Chai - addLengthGuard utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e,n){return r.configurable?(Object.defineProperty(t,"length",{get:function(){if(n)throw Error("Invalid Chai property: "+e+'.length. Due to a compatibility issue, "length" cannot directly follow "'+e+'". Use "'+e+'.lengthOf" instead.');throw Error("Invalid Chai property: "+e+'.length. See docs for proper usage of "'+e+'".')}}),t):t}},function(t,e,n){var r=n(4);
/*!
 * Chai - isProxyEnabled helper
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */t.exports=function(){return r.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}},function(t,e,n){var r=n(36),o=n(35),i=n(75),u=n(4);t.exports=function(t,e,n,r){return s({showHidden:e,seen:[],stylize:function(t){return t}},t,void 0===n?2:n)};var a=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&"nodeType"in t&&1===t.nodeType&&"string"==typeof t.nodeName};function s(t,n,g){if(n&&"function"==typeof n.inspect&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var m=n.inspect(g,t);return"string"!=typeof m&&(m=s(t,m,g)),m}var y=function(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return 0===e&&1/e==-1/0?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean");case"symbol":return t.stylize(e.toString(),"symbol")}if(null===e)return t.stylize("null","null")}(t,n);if(y)return y;if(a(n)){if("outerHTML"in n)return n.outerHTML;try{if(document.xmlVersion)return(new XMLSerializer).serializeToString(n);var v=document.createElementNS("http://www.w3.org/1999/xhtml","_");v.appendChild(n.cloneNode(!1));var _=v.innerHTML.replace("><",">"+n.innerHTML+"<");return v.innerHTML="",_}catch(t){}}var b,w,S=i(n),M=t.showHidden?o(n):S;if(0===M.length||p(n)&&(1===M.length&&"stack"===M[0]||2===M.length&&"description"===M[0]&&"stack"===M[1])){if("function"==typeof n)return w=(b=r(n))?": "+b:"",t.stylize("[Function"+w+"]","special");if(l(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(h(n))return t.stylize(Date.prototype.toUTCString.call(n),"date");if(p(n))return c(n)}var x,O="",J=!1,z=!1,I=["{","}"];if(function(t){return"object"==typeof t&&/\w+Array]$/.test(d(t))}(n)&&(z=!0,I=["[","]"]),function(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===d(t)}(n)&&(J=!0,I=["[","]"]),"function"==typeof n&&(O=" [Function"+(w=(b=r(n))?": "+b:"")+"]"),l(n)&&(O=" "+RegExp.prototype.toString.call(n)),h(n)&&(O=" "+Date.prototype.toUTCString.call(n)),p(n))return c(n);if(0===M.length&&(!J||0==n.length))return I[0]+O+I[1];if(g<0)return l(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");if(t.seen.push(n),J)x=function(t,e,n,r,o){for(var i=[],u=0,a=e.length;u<a;++u)Object.prototype.hasOwnProperty.call(e,String(u))?i.push(f(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,n,r,o,!0))}),i}(t,n,g,S,M);else{if(z)return function(t){for(var e="[ ",n=0;n<t.length;++n){if(e.length>=u.truncateThreshold-7){e+="...";break}e+=t[n]+", "}-1!==(e+=" ]").indexOf(",  ]")&&(e=e.replace(",  ]"," ]"));return e}(n);x=M.map(function(e){return f(t,n,g,S,e,J)})}return t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(x,O,I)}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o,i){var u,a,c=Object.getOwnPropertyDescriptor(e,o);if(c&&(c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special"))),r.indexOf(o)<0&&(u="["+o+"]"),a||(t.seen.indexOf(e[o])<0?(a=s(t,e[o],null===n?null:n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),void 0===u){if(i&&o.match(/^\d+$/))return a;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function l(t){return"object"==typeof t&&"[object RegExp]"===d(t)}function h(t){return"object"==typeof t&&"[object Date]"===d(t)}function p(t){return"object"==typeof t&&"[object Error]"===d(t)}function d(t){return Object.prototype.toString.call(t)}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullable=e.immutableSet=e.immutableMap=e.immutableList=e.array=e.index=e.string=e.bool=e.natural=void 0;var r=n(0),o=n(23);!function(t){t&&t.__esModule}(n(2));var i=function(t){return Math.round(Math.random()*t)},u=(e.natural=function(){return Math.random()<=.1?0:i(4e3)},e.bool=function(){return Math.random()>=.5},e.string=function(){return Math.random()<=.1?"":(0,o.generateRandomString)(i(40))},e.index=function(){return Math.random()<=.1?0:i(10)}),a=e.array=function(t){for(var e=[],n=u()-1;n>=0;n--)e.push(t());return e};e.immutableList=function(t){return(0,r.List)(a(t))},e.immutableMap=function(t,e){for(var n=(0,r.Map)(),o=u()-1;o>=0;o--)n=n.set(t(),e());return n},e.immutableSet=function(t){return(0,r.Set)(a(t))},e.nullable=function(t){return Math.random()<=.25?null:t()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullable=e.immutableSet=e.immutableMap=e.immutableList=e.array=e.index=e.string=e.bool=e.natural=void 0;var r=n(0),o=n(16);!function(t){t&&t.__esModule}(n(2));var i=function(t){return Math.round(Math.random()*t)},u=(e.natural=function(){return Math.random()<=.1?0:i(4e3)},e.bool=function(){return Math.random()>=.5},e.string=function(){return Math.random()<=.1?"":(0,o.generateRandomString)(i(40))},e.index=function(){return Math.random()<=.1?0:i(10)}),a=e.array=function(t){for(var e=[],n=u()-1;n>=0;n--)e.push(t());return e};e.immutableList=function(t){return(0,r.List)(a(t))},e.immutableMap=function(t,e){for(var n=(0,r.Map)(),o=u()-1;o>=0;o--)n=n.set(t(),e());return n},e.immutableSet=function(t){return(0,r.Set)(a(t))},e.nullable=function(t){return Math.random()<=.25?null:t()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomString=function(t){for(var e="",n=0;n<t;n++){var r=61*Math.random();e+=r<10?String.fromCharCode(48+r):r<36?String.fromCharCode(r-10+65):String.fromCharCode(r-36+97)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullable=e.immutableSet=e.immutableMap=e.immutableList=e.array=e.index=e.string=e.bool=e.natural=void 0;var r=n(0),o=n(18);!function(t){t&&t.__esModule}(n(2));var i=function(t){return Math.round(Math.random()*t)},u=(e.natural=function(){return Math.random()<=.1?0:i(4e3)},e.bool=function(){return Math.random()>=.5},e.string=function(){return Math.random()<=.1?"":(0,o.generateRandomString)(i(40))},e.index=function(){return Math.random()<=.1?0:i(10)}),a=e.array=function(t){for(var e=[],n=u()-1;n>=0;n--)e.push(t());return e};e.immutableList=function(t){return(0,r.List)(a(t))},e.immutableMap=function(t,e){for(var n=(0,r.Map)(),o=u()-1;o>=0;o--)n=n.set(t(),e());return n},e.immutableSet=function(t){return(0,r.Set)(a(t))},e.nullable=function(t){return Math.random()<=.25?null:t()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomString=function(t){for(var e="",n=0;n<t;n++){var r=61*Math.random();e+=r<10?String.fromCharCode(48+r):r<36?String.fromCharCode(r-10+65):String.fromCharCode(r-36+97)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullable=e.immutableMap=e.immutableList=e.array=e.index=e.string=e.bool=e.natural=void 0;var r=n(0),o=n(20);!function(t){t&&t.__esModule}(n(2));var i=function(t){return Math.round(Math.random()*t)},u=(e.natural=function(){return Math.random()<=.1?0:i(4e3)},e.bool=function(){return Math.random()>=.5},e.string=function(){return Math.random()<=.1?"":(0,o.generateRandomString)(i(40))},e.index=function(){return Math.random()<=.1?0:i(10)}),a=e.array=function(t){for(var e=[],n=u()-1;n>=0;n--)e.push(t());return e};e.immutableList=function(t){return(0,r.List)(a(t))},e.immutableMap=function(t,e){for(var n=(0,r.Map)(),o=u()-1;o>=0;o--)n=n.set(t(),e());return n},e.nullable=function(t){return Math.random()<=.25?null:t()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomString=function(t){for(var e="",n=0;n<t;n++){var r=61*Math.random();e+=r<10?String.fromCharCode(48+r):r<36?String.fromCharCode(r-10+65):String.fromCharCode(r-36+97)}return e}},function(t,e,n){(function(e){!function(e,n){t.exports=n()}(0,function(){"use strict";var t="function"==typeof Promise,n="object"==typeof self?self:e,r="undefined"!=typeof Symbol,o="undefined"!=typeof Map,i="undefined"!=typeof Set,u="undefined"!=typeof WeakMap,a="undefined"!=typeof WeakSet,s="undefined"!=typeof DataView,c=r&&void 0!==Symbol.iterator,f=r&&void 0!==Symbol.toStringTag,l=i&&"function"==typeof Set.prototype.entries,h=o&&"function"==typeof Map.prototype.entries,p=l&&Object.getPrototypeOf((new Set).entries()),d=h&&Object.getPrototypeOf((new Map).entries()),g=c&&"function"==typeof Array.prototype[Symbol.iterator],m=g&&Object.getPrototypeOf([][Symbol.iterator]()),y=c&&"function"==typeof String.prototype[Symbol.iterator],v=y&&Object.getPrototypeOf(""[Symbol.iterator]()),_=8,b=-1;return function(e){var r=typeof e;if("object"!==r)return r;if(null===e)return"null";if(e===n)return"global";if(Array.isArray(e)&&(!1===f||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var c=f&&e[Symbol.toStringTag];if("string"==typeof c)return c;var l=Object.getPrototypeOf(e);return l===RegExp.prototype?"RegExp":l===Date.prototype?"Date":t&&l===Promise.prototype?"Promise":i&&l===Set.prototype?"Set":o&&l===Map.prototype?"Map":a&&l===WeakSet.prototype?"WeakSet":u&&l===WeakMap.prototype?"WeakMap":s&&l===DataView.prototype?"DataView":o&&l===d?"Map Iterator":i&&l===p?"Set Iterator":g&&l===m?"Array Iterator":y&&l===v?"String Iterator":null===l?"Object":Object.prototype.toString.call(e).slice(_,b)}})}).call(this,n(78))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.immuEqual=e.equal=e.iter=e.simpleLog=e.log=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=s(n(13)),i=s(n(8)),u=n(0),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}o.default.use(i.default);var c=o.default.expect,f=[],l=(e.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(new Error).stack.split("\n")[2],o=r.match(/at ([^ ]+) \(([^:]+):([^:]+):([^:]+)\)/);null===o&&(o=[(o=(o=r.match(/at ([^:]+):([^:]+):([^:]+)/)).slice())[0]].concat(["anonymous"]).concat(o.slice(1)));var i=a.default.red(o[1]),u=a.default.blue(o[2]),s=a.default.green(o[3]),c=a.default.yellow(o[4]);f.push(["\n"+i+":"+u+":"+s+":"+c+"\n"].concat(e,["\n"]))},e.simpleLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.push([].concat(e))},e.iter=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{for(var n=e-1;n>=0;n--)f=[],t()}catch(t){throw f.forEach(function(t){var e;return(e=console).log.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}),t}});e.equal=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o).to.deep.equal(i)})}).timeout(1e4)},e.immuEqual=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o.toJS()).to.deep.equal(i.toJS()),c((0,u.is)(o,i)).to.equal(!0)})}).timeout(1e4)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomString=function(t){for(var e="",n=0;n<t;n++){var r=61*Math.random();e+=r<10?String.fromCharCode(48+r):r<36?String.fromCharCode(r-10+65):String.fromCharCode(r-36+97)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromJson=e.toJson=e.fromJs=e.toJs=e.setComments=e.getComments=e.setAlias=e.getAlias=e.setLastModified=e.getLastModified=e.setSize=e.getSize=e.toStrList=e.toStrListHeader=e.computeDerivatedData=e.update=e.compareDate=e.compareSize=e.create=e.arbitrary=e.lastModifiedUpdateAverage=e.lastModifiedFromJs=e.lastModifiedToJs=e.arbitraryLastModified=void 0;var r=n(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(14));var i=(0,r.Record)({max:0,list:(0,r.List)(),min:Number.MAX_SAFE_INTEGER,median:null,average:null}),u=e.arbitraryLastModified=function(){var t=o.immutableList(o.natural);return new i({max:t.max(),list:t,min:t.min()})},a=e.lastModifiedToJs=function(t){return t=(t=t.update("list",function(t){return t.toJS()})).toJS()},s=e.lastModifiedFromJs=function(t){return t=(t=new i(t)).update("list",r.List)},c=(e.lastModifiedUpdateAverage=function(t,e){return e=e.update("average",t)},function(t){var e=t.get("list");return t=(t=t.set("median",function(t){if(t.size%2==1)return t.get(Math.floor(t.size/2));var e=t.size/2;return(t.get(e-1)+t.get(e))/2}(e))).set("average",function(t){return t.reduce(function(t,e){return t+e},0)/t.size}(e))}),f=(0,r.Record)({size:0,nb_files:1,last_modified:new i,alias:"",comments:""}),l=(e.arbitrary=function(){return new f({size:o.natural(),nb_files:o.natural(),last_modified:u(),alias:o.string(),comments:o.string()})},e.create=function(t){return t&&(t.last_modified=function(t){return new i({max:t,list:r.List.of(t),min:t,median:t,average:t})}(t.last_modified)),new f(t)},e.compareSize=function(t,e){var n=function(t){return t.get("size")};return(t=n(t))===(e=n(e))?0:t>e?-1:1},e.compareDate=function(t,e){var n=function(t){return t.get("last_modified").get("average")};return(t=n(t))===(e=n(e))?0:t>e?1:-1},e.update=function(t,e){var n=t.get("size");e=e.update("size",function(t){return t+n});t.get("last_modified").get("max");return e=(e=e.update("last_modified",function(e){return function(t,e){var n=t.get("max");return e=(e=(e=e.update("max",function(t){return Math.max(t,n)})).update("min",function(t){return Math.min(t,n)})).update("list",function(t){return t.push(n)})}(t.get("last_modified"),e)})).update("nb_files",function(t){return t+1})},e.computeDerivatedData=function(t){return t=t.update("last_modified",c)},e.toStrListHeader=function(){return r.List.of("size (octet)","last_modified","alias","comments")},e.toStrList=function(t){return r.List.of(t.get("size"),new Date(t.get("last_modified").get("max")),t.get("alias"),t.get("comments"))},e.getSize=function(t){return t.get("size")},e.setSize=function(t,e){return e.set("size",t)},e.getLastModified=function(t){return t.get("last_modified")},e.setLastModified=function(t,e){return e.set("last_modified",t)},e.getAlias=function(t){return t.get("alias")},e.setAlias=function(t,e){return e.set("alias",t)},e.getComments=function(t){return t.get("comments")},e.setComments=function(t,e){return e.set("comments",t)},e.toJs=function(t){return t=(t=t.update("last_modified",a)).toJS()}),h=e.fromJs=function(t){return t=(t=new f(t)).update("last_modified",s)};e.toJson=function(t){return JSON.stringify(l(t))},e.fromJson=function(t){return h(JSON.parse(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.make=function(t){var e=[Symbol()],n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return!1===o.reduce(function(t,n,r){return t&&n===e[r]},!0)&&(e=o,n=t.apply(void 0,o)),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.immuEqual=e.equal=e.iter=e.simpleLog=e.log=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=s(n(13)),i=s(n(8)),u=n(0),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}o.default.use(i.default);var c=o.default.expect,f=[],l=(e.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(new Error).stack.split("\n")[2],o=r.match(/at ([^ ]+) \(([^:]+):([^:]+):([^:]+)\)/);null===o&&(o=[(o=(o=r.match(/at ([^:]+):([^:]+):([^:]+)/)).slice())[0]].concat(["anonymous"]).concat(o.slice(1)));var i=a.default.red(o[1]),u=a.default.blue(o[2]),s=a.default.green(o[3]),c=a.default.yellow(o[4]);f.push(["\n"+i+":"+u+":"+s+":"+c+"\n"].concat(e,["\n"]))},e.simpleLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.push([].concat(e))},e.iter=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{for(var n=e-1;n>=0;n--)f=[],t()}catch(t){throw f.forEach(function(t){var e;return(e=console).log.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}),t}});e.equal=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o).to.deep.equal(i)})}).timeout(1e4)},e.immuEqual=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o.toJS()).to.deep.equal(i.toJS()),c((0,u.is)(o,i)).to.equal(!0)})}).timeout(1e4)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.make=function(t){var e=[Symbol()],n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return!1===o.reduce(function(t,n,r){return t&&n===e[r]},!0)&&(e=o,n=t.apply(void 0,o)),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.immuEqual=e.equal=e.iter=e.simpleLog=e.log=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=s(n(13)),i=s(n(8)),u=n(0),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}o.default.use(i.default);var c=o.default.expect,f=[],l=(e.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(new Error).stack.split("\n")[2],o=r.match(/at ([^ ]+) \(([^:]+):([^:]+):([^:]+)\)/);null===o&&(o=[(o=(o=r.match(/at ([^:]+):([^:]+):([^:]+)/)).slice())[0]].concat(["anonymous"]).concat(o.slice(1)));var i=a.default.red(o[1]),u=a.default.blue(o[2]),s=a.default.green(o[3]),c=a.default.yellow(o[4]);f.push(["\n"+i+":"+u+":"+s+":"+c+"\n"].concat(e,["\n"]))},e.simpleLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.push([].concat(e))},e.iter=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{for(var n=e-1;n>=0;n--)f=[],t()}catch(t){throw f.forEach(function(t){var e;return(e=console).log.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}),t}});e.equal=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o).to.deep.equal(i)})}).timeout(1e4)},e.immuEqual=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o.toJS()).to.deep.equal(i.toJS()),c((0,u.is)(o,i)).to.equal(!0)})}).timeout(1e4)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.make=function(t){var e=[Symbol()],n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return!1===o.reduce(function(t,n,r){return t&&n===e[r]},!0)&&(e=o,n=t.apply(void 0,o)),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.immuEqual=e.equal=e.iter=e.simpleLog=e.log=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=s(n(13)),i=s(n(8)),u=n(0),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}o.default.use(i.default);var c=o.default.expect,f=[],l=(e.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(new Error).stack.split("\n")[2],o=r.match(/at ([^ ]+) \(([^:]+):([^:]+):([^:]+)\)/);null===o&&(o=[(o=(o=r.match(/at ([^:]+):([^:]+):([^:]+)/)).slice())[0]].concat(["anonymous"]).concat(o.slice(1)));var i=a.default.red(o[1]),u=a.default.blue(o[2]),s=a.default.green(o[3]),c=a.default.yellow(o[4]);f.push(["\n"+i+":"+u+":"+s+":"+c+"\n"].concat(e,["\n"]))},e.simpleLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.push([].concat(e))},e.iter=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{for(var n=e-1;n>=0;n--)f=[],t()}catch(t){throw f.forEach(function(t){var e;return(e=console).log.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}),t}});e.equal=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o).to.deep.equal(i)})}).timeout(1e4)},e.immuEqual=function(t,e){it(t,function(){l(function(){var t=e(),n=r(t,2),o=n[0],i=n[1];c(o.toJS()).to.deep.equal(i.toJS()),c((0,u.is)(o,i)).to.equal(!0)})}).timeout(1e4)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.make=function(t){var e=[Symbol()],n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return!1===o.reduce(function(t,n,r){return t&&n===e[r]},!0)&&(e=o,n=t.apply(void 0,o)),n}}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=a(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){
/*!
 * Chai - getOwnEnumerablePropertySymbols utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}},function(t,e,n){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var r=n(12),o=n(4);t.exports=function(t){var e=r(t),n=Object.prototype.toString.call(t);if(o.truncateThreshold&&e.length>=o.truncateThreshold){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var i=Object.keys(t);return"{ Object ("+(i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", "))+") }"}return e}return e}},function(t,e){
/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t){var e=Object.getOwnPropertyNames(t);function n(t){-1===e.indexOf(t)&&e.push(t)}for(var r=Object.getPrototypeOf(t);null!==r;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return e}},function(t,e,n){"use strict";var r=Function.prototype.toString,o=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;t.exports=function(t){if("function"!=typeof t)return null;var e="";if(void 0===Function.prototype.name&&void 0===t.name){var n=r.call(t).match(o);n&&(e=n[1])}else e=t.name;return e}},function(t,e){
/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e){return e.length>4?e[4]:t._obj}},function(t,e){
/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 */
/*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */
function n(){var t=[].slice.call(arguments);function e(e,n){Object.keys(n).forEach(function(r){~t.indexOf(r)||(e[r]=n[r])})}return function(){for(var t=[].slice.call(arguments),n=0,r={};n<t.length;n++)e(r,t[n]);return r}}function r(t,e,o){var i=n("name","message","stack","constructor","toJSON")(e||{});for(var u in this.message=t||"Unspecified AssertionError",this.showDiff=!1,i)this[u]=i[u];if(o=o||r,Error.captureStackTrace)Error.captureStackTrace(this,o);else try{throw new Error}catch(t){this.stack=t.stack}}
/*!
 * Inherit from Error.prototype
 */
/*!
 * Primary Exports
 */
t.exports=r,r.prototype=Object.create(Error.prototype),
/*!
 * Statically set name
 */
r.prototype.name="AssertionError",
/*!
 * Ensure correct constructor
 */
r.prototype.constructor=r,r.prototype.toJSON=function(t){var e=n("constructor","toJSON","stack")({name:this.name},this);return!1!==t&&this.stack&&(e.stack=this.stack),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSubIdList=e.getLeafIdArray=e.depth=e.fromJsTree=e.toJsTree=e.fromJs=e.toJs=e.fromJson=e.toJson=e.mapContent=e.toList=e.toStrList2=e.getIdPath=e.remakePath=e.isSorted=e.sortByMaxRemainingPathLength=e.sort=e.update=e.arbitrary=e.updateEntryById=e.getEntryById=e.size=e.init=e.getRootId=e.getMaxRemainingPathLength=e.isRoot=e.isLeaf=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=(s(n(22)),s(n(14))),i=s(n(25)),u=n(23),a=n(0);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=(0,a.Record)({name:"",content:null,children:(0,a.List)(),parent:null,depth:0,sum_children_path_length:0,max_children_path_length:0,parent_path_length:0}),f=e.isLeaf=function(t){return 0===t.get("children").size},l=(e.isRoot=function(t){return null===t.get("parent")},e.getMaxRemainingPathLength=function(t){return t.get("max_children_path_length")+t.get("name").length}),h=(0,a.Record)({table:(0,a.Map)(),root_id:""}),p=function(){return new h},d=function(t){return t.get("table")},g=function(t,e){return e.set("table",t)},m=function(t,e){return e.update("table",t)},y=function(t){return function(t){return Array.isArray(t)?t:Array.from(t)}(d(t).keys()).slice(0)},v=e.getRootId=function(t){return t.get("root_id")},_=function(t,e){return e.set("root_id",t)},b=function(){return(0,u.generateRandomString)(40)},w=e.init=function(t){var e=b(),n=(0,a.Map)(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,new c({content:t}))),r=p();return r=g(n,r),r=_(e,r)},S=(e.size=function(t){return d(t).size},e.getEntryById=function(t,e){return d(e).get(t)}),M=function(t,e,n){return m(function(n){return n.set(t,e)},n)},x=e.updateEntryById=function(t,e,n){return m(function(n){return n.update(t,function(t){return e(t)})},n)},O=function t(e,n,r){var o=[];return S(n,r).get("children").forEach(function(n){o.push(t(e,n,r))}),e(o,S(n,r))},J=(e.arbitrary=function(t,e){return function(){for(var n=w(e()),r=j(t),i=0;i<50*Math.random();i++)n=r(o.array(function(){return"p"+Math.round(1*Math.random())}),e(),n);return n}},function(t){return t.join("").length}),z=function(t,e,n){return function(r){r=I(t,e,r);var o=J(n);return r=(r=r.update("sum_children_path_length",function(t){return t+o})).update("max_children_path_length",function(t){return Math.max(t,o)})}},I=function(t,e,n){return n=n.update("content",function(n){return t(e,n)})},L=function t(e,n,r,o,i){if(0===n.length)return i;var u=n[0];n=n.slice(1);var a=function(t,e,n){var r=S(e,n).get("children").filter(function(e){return S(e,n).get("name")===t});return r.size?r.get(0):null}(u,o,i);if(a)i=x(a,z(e,r,n),i);else{a=b();var s=J(n),f=S(o,i),l=new c({name:u,content:r,parent:o,depth:f.get("depth")+1,parent_path_length:f.get("parent_path_length")+f.get("name").length,max_children_path_length:s,sum_children_path_length:s});i=M(a,l,i),i=x(o,function(t){return function(t,e){return e=e.update("children",function(e){return e.push(t)})}(a,t)},i)}return t(e,n,r,a,i)},j=e.update=function(t){return function(e,n,r){var o=v(r);return r=x(o,z(t,n,e),r),r=L(t,e,n,o,r)}},E=function t(e,n,o,i){return i=x(e,function(t){return function(t,e,n,o){var i=function(t,e){var o=r(t,2),i=(o[0],o[1]),u=r(e,2),a=(u[0],u[1]);return n(i,a)};return o=o.update("children",function(n){return n.map(function(n){return[n,e(n,t)]}).sort(i).map(function(t){var e=r(t,2),n=e[0];return e[1],n})})}(i,n,o,t)},i),S(e,i).get("children").forEach(function(e){return i=t(e,n,o,i)}),i},A=(e.sort=function(t){return function(e){var n=v(e);return e=E(n,function(t,e){return S(t,e).get("content")},t,e)}},e.sortByMaxRemainingPathLength=function(t){var e=v(t);return t=E(e,function(t,e){return S(t,e)},function(t,e){var n=l(t),r=l(e);return n<r?1:n>r?-1:0},t)},e.isSorted=function(t){return function(e){return function t(e,n,r){for(var o=function(t){return S(t,r).get("content")},i=S(e,r).get("children"),u=!0,a=1;a<i.size;a++)u=u&&1!==n(o(i.get(a-1)),o(i.get(a)));return i.map(function(e){return t(e,n,r)}).reduce(function(t,e){return t&&e},u)}(v(e),t,e)}},e.remakePath=function t(e,n){var r=S(e,n),o=r.get("name"),i=r.get("parent");return i?t(i,n).push(o):a.List.of(o)}),T=(e.getIdPath=function t(e,n){var r=S(e,n).get("parent");return r?t(r,n).push(e):a.List.of(e)},e.toStrList2=function(t,e){return function(n,r){var o=d(n),i=a.List.of("","path").concat(t());return o.map(function(t,o){return a.List.of("",A(o,n).slice(1).join("/")).concat(e(t.get("content"))).concat(r.reduce(function(t,e,n){return e.has(o)?t.length>0?t+", "+n:n:t},"").toString())}).reduce(function(t,e){return t.push(e)},a.List.of(i))}},e.toList=function(t){return O(function(t,e){return t.reduce(function(t,e){return t.concat(e)},(0,a.List)()).push(e).map(function(t){return t.set("children",(0,a.List)())}).map(function(t){return t.set("parent",null)})},v(t),t)},e.mapContent=function(t,e){return function t(e,n,r){return S(n,r).get("children").forEach(function(n){r=t(e,n,r)}),r=x(n,function(t){return e(t)},r)}(function(e){return e.update("content",t)},v(e),e)}),P=(e.toJson=function(t){return function(e){return e=T(t,e),JSON.stringify(e.toJS())}},e.fromJson=function(t){return function(e){var n=new h(JSON.parse(e));return n=m(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t).update("children",a.List)})},n)}},e.toJs=function(t){return function(e){return(e=T(t,e)).toJS()}},e.fromJs=function(t){return function(e){var n=new h(e);return n=m(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t).update("children",a.List)})},n)}},e.toJsTree=function(t){return O(function(t,e){return e.set("children",t).set("parent",null).toJS()},v(t),t)},function t(e){var n=e.children.map(t).reduce(function(t,e){return[t[0].concat(e[0]),function(t,e){var n=p();return n=g(d(t).merge(d(e)),n)}(t[1],e[1])]},[[],p()]),o=r(n,2),i=o[0],u=o[1],s=b();return u=M(s,new c(e).set("children",(0,a.List)(i)),u),i.forEach(function(t){u=x(t,function(t){return t.set("parent",s)},u)}),u=_(s,u),[[s],u]});e.fromJsTree=function(t){var e=P(t),n=r(e,2);n[0];return n[1]},e.depth=i.make(function(t){return O(function(t,e){return t.reduce(function(t,e){return Math.max(t,e)},e.get("depth"))},v(t),t)}),e.getLeafIdArray=function(t){return t=function(t,e){return e=g(d(e).filter(t),e)}(f,t),y(t)},e.getSubIdList=function t(e,n){return S(e,n).get("children").map(function(e){return t(e,n)}).flatten().push(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromV5=e.toCommon=e.v5ToCommon=e.getSubIdList=e.getLeafIdArray=e.depth=e.fromJsTree=e.toJsTree=e.fromJs=e.toJs=e.fromJson=e.toJson=e.mapContent=e.toList=e.toStrList2=e.getIdPath=e.remakePath=e.isSorted=e.sortByMaxRemainingPathLength=e.sort=e.update=e.arbitrary=e.updateEntryById=e.getEntryById=e.size=e.init=e.getRootId=e.getMaxRemainingPathLength=e.isRoot=e.isLeaf=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=(s(n(26)),s(n(15))),i=s(n(27)),u=n(16),a=n(0);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=(0,a.Record)({name:"",content:null,children:(0,a.List)(),parent:null,depth:0,sum_children_path_length:0,max_children_path_length:0,parent_path_length:0}),f=e.isLeaf=function(t){return 0===t.get("children").size},l=(e.isRoot=function(t){return null===t.get("parent")},e.getMaxRemainingPathLength=function(t){return t.get("max_children_path_length")+t.get("name").length}),h=(0,a.Record)({table:(0,a.Map)(),root_id:""}),p=function(){return new h},d=function(t){return t.get("table")},g=function(t,e){return e.set("table",t)},m=function(t,e){return e.update("table",t)},y=function(t){return function(t){return Array.isArray(t)?t:Array.from(t)}(d(t).keys()).slice(0)},v=e.getRootId=function(t){return t.get("root_id")},_=function(t,e){return e.set("root_id",t)},b=function(){return(0,u.generateRandomString)(40)},w=e.init=function(t){var e=b(),n=(0,a.Map)(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,new c({content:t}))),r=p();return r=g(n,r),r=_(e,r)},S=(e.size=function(t){return d(t).size},e.getEntryById=function(t,e){return d(e).get(t)}),M=function(t,e,n){return m(function(n){return n.set(t,e)},n)},x=e.updateEntryById=function(t,e,n){return m(function(n){return n.update(t,function(t){return e(t)})},n)},O=function t(e,n,r){var o=[];return S(n,r).get("children").forEach(function(n){o.push(t(e,n,r))}),e(o,S(n,r))},J=(e.arbitrary=function(t,e){return function(){for(var n=w(e()),r=j(t),i=0;i<50*Math.random();i++)n=r(o.array(function(){return"p"+Math.round(1*Math.random())}),e(),n);return n}},function(t){return t.join("").length}),z=function(t,e,n){return function(r){r=I(t,e,r);var o=J(n);return r=(r=r.update("sum_children_path_length",function(t){return t+o})).update("max_children_path_length",function(t){return Math.max(t,o)})}},I=function(t,e,n){return n=n.update("content",function(n){return t(e,n)})},L=function t(e,n,r,o,i){if(0===n.length)return i;var u=n[0];n=n.slice(1);var a=function(t,e,n){var r=S(e,n).get("children").filter(function(e){return S(e,n).get("name")===t});return r.size?r.get(0):null}(u,o,i);if(a)i=x(a,z(e,r,n),i);else{a=b();var s=J(n),f=S(o,i),l=new c({name:u,content:r,parent:o,depth:f.get("depth")+1,parent_path_length:f.get("parent_path_length")+f.get("name").length,max_children_path_length:s,sum_children_path_length:s});i=M(a,l,i),i=x(o,function(t){return function(t,e){return e=e.update("children",function(e){return e.push(t)})}(a,t)},i)}return t(e,n,r,a,i)},j=e.update=function(t){return function(e,n,r){var o=v(r);return r=x(o,z(t,n,e),r),r=L(t,e,n,o,r)}},E=function t(e,n,o,i){return i=x(e,function(t){return function(t,e,n,o){var i=function(t,e){var o=r(t,2),i=(o[0],o[1]),u=r(e,2),a=(u[0],u[1]);return n(i,a)};return o=o.update("children",function(n){return n.map(function(n){return[n,e(n,t)]}).sort(i).map(function(t){var e=r(t,2),n=e[0];return e[1],n})})}(i,n,o,t)},i),S(e,i).get("children").forEach(function(e){return i=t(e,n,o,i)}),i},A=(e.sort=function(t){return function(e){var n=v(e);return e=E(n,function(t,e){return S(t,e).get("content")},t,e)}},e.sortByMaxRemainingPathLength=function(t){var e=v(t);return t=E(e,function(t,e){return S(t,e)},function(t,e){var n=l(t),r=l(e);return n<r?1:n>r?-1:0},t)},e.isSorted=function(t){return function(e){return function t(e,n,r){for(var o=function(t){return S(t,r).get("content")},i=S(e,r).get("children"),u=!0,a=1;a<i.size;a++)u=u&&1!==n(o(i.get(a-1)),o(i.get(a)));return i.map(function(e){return t(e,n,r)}).reduce(function(t,e){return t&&e},u)}(v(e),t,e)}},e.remakePath=function t(e,n){var r=S(e,n),o=r.get("name"),i=r.get("parent");return i?t(i,n).push(o):a.List.of(o)}),T=(e.getIdPath=function t(e,n){var r=S(e,n).get("parent");return r?t(r,n).push(e):a.List.of(e)},e.toStrList2=function(t,e){return function(n){var r=d(n),o=a.List.of("","path").concat(t());return r.map(function(t,r){return a.List.of("",A(r,n).slice(1).join("/")).concat(e(t.get("content")))}).reduce(function(t,e){return t.push(e)},a.List.of(o))}},e.toList=function(t){return O(function(t,e){return t.reduce(function(t,e){return t.concat(e)},(0,a.List)()).push(e).map(function(t){return t.set("children",(0,a.List)())}).map(function(t){return t.set("parent",null)})},v(t),t)},e.mapContent=function(t,e){return function t(e,n,r){return S(n,r).get("children").forEach(function(n){r=t(e,n,r)}),r=x(n,function(t){return e(t)},r)}(function(e){return e.update("content",t)},v(e),e)}),P=(e.toJson=function(t){return function(e){return e=T(t,e),JSON.stringify(e.toJS())}},e.fromJson=function(t){return function(e){var n=new h(JSON.parse(e));return n=m(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t).update("children",a.List)})},n)}},e.toJs=function(t){return function(e){return(e=T(t,e)).toJS()}},e.fromJs=function(t){return function(e){var n=new h(e);return n=m(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t).update("children",a.List)})},n)}},e.toJsTree=function(t){return O(function(t,e){return e.set("children",t).set("parent",null).toJS()},v(t),t)},function t(e){var n=e.children.map(t).reduce(function(t,e){return[t[0].concat(e[0]),function(t,e){var n=p();return n=g(d(t).merge(d(e)),n)}(t[1],e[1])]},[[],p()]),o=r(n,2),i=o[0],u=o[1],s=b();return u=M(s,new c(e).set("children",(0,a.List)(i)),u),i.forEach(function(t){u=x(t,function(t){return t.set("parent",s)},u)}),u=_(s,u),[[s],u]}),D=(e.fromJsTree=function(t){var e=P(t),n=r(e,2);n[0];return n[1]},e.depth=i.make(function(t){return O(function(t,e){return t.reduce(function(t,e){return Math.max(t,e)},e.get("depth"))},v(t),t)}),e.getLeafIdArray=function(t){return t=function(t,e){return e=g(d(e).filter(t),e)}(f,t),y(t)},e.getSubIdList=function t(e,n){return S(e,n).get("children").map(function(e){return t(e,n)}).flatten().push(e)},function(t){return(0,a.Map)({name:t.get("name"),content:t.get("content"),children:t.get("children"),parent:t.get("parent"),depth:t.get("depth")})});e.v5ToCommon=function(t){return function(e){var n=e.get("table").map(function(e){return e=e.update("content",t),D(e)}),r=e.get("root_id");return(0,a.Map)({table:n,root_id:r})}},e.toCommon=function(t){return function(e){var n=(e=T(t,e)).get("table").map(D),r=e.get("root_id");return(0,a.Map)({table:n,root_id:r})}},e.fromV5=function(t){return function(e){var n=e.get("table").map(function(e){return e=e.update("content",t),new c(e)}),r=e.get("root_id");return new h({table:n,root_id:r})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromV5=e.toCommon=e.v5ToCommon=e.fromJson=e.toJson=e.fromJs=e.toJs=e.setTags=e.getTags=e.setComments=e.getComments=e.setAlias=e.getAlias=e.setLastModified=e.getLastModified=e.setSize=e.getSize=e.toStrList=e.toStrListHeader=e.computeDerivatedData=e.update=e.compareDate=e.compareSize=e.create=e.arbitrary=e.tagsFromJs=e.tagsToJs=e.arbitraryTags=e.lastModifiedUpdateAverage=e.lastModifiedFromJs=e.lastModifiedToJs=e.arbitraryLastModified=void 0;var r=n(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(15));var i=(0,r.Record)({max:0,list:(0,r.List)(),min:Number.MAX_SAFE_INTEGER,median:null,average:null}),u=e.arbitraryLastModified=function(){var t=o.immutableList(o.natural);return new i({max:t.max(),list:t,min:t.min()})},a=e.lastModifiedToJs=function(t){return t=(t=t.update("list",function(t){return t.toJS()})).toJS()},s=e.lastModifiedFromJs=function(t){return t=(t=new i(t)).update("list",r.List)},c=(e.lastModifiedUpdateAverage=function(t,e){return e=e.update("average",t)},function(t){var e=t.get("list");return t=(t=t.set("median",function(t){if(t.size%2==1)return t.get(Math.floor(t.size/2));var e=t.size/2;return(t.get(e-1)+t.get(e))/2}(e))).set("average",function(t){return t.reduce(function(t,e){return t+e},0)/t.size}(e))}),f=(0,r.Record)({size:0,nb_files:1,last_modified:new i,alias:"",comments:"",tags:(0,r.Set)()}),l=e.arbitraryTags=function(){return(0,r.Set)(o.array(o.string))},h=e.tagsToJs=function(t){return t.toArray()},p=e.tagsFromJs=function(t){return(0,r.Set)(t)},d=(e.arbitrary=function(){return new f({size:o.natural(),nb_files:o.natural(),last_modified:u(),alias:o.string(),comments:o.string(),tags:l()})},e.create=function(t){return t&&(t.last_modified=function(t){return new i({max:t,list:r.List.of(t),min:t,median:t,average:t})}(t.last_modified)),new f(t)}),g=(e.compareSize=function(t,e){var n=function(t){return t.get("size")};return(t=n(t))===(e=n(e))?0:t>e?-1:1},e.compareDate=function(t,e){var n=function(t){return t.get("last_modified").get("average")};return(t=n(t))===(e=n(e))?0:t>e?1:-1},e.update=function(t,e){var n=t.get("size");e=e.update("size",function(t){return t+n});t.get("last_modified").get("max");return e=(e=e.update("last_modified",function(e){return function(t,e){var n=t.get("max");return e=(e=(e=e.update("max",function(t){return Math.max(t,n)})).update("min",function(t){return Math.min(t,n)})).update("list",function(t){return t.push(n)})}(t.get("last_modified"),e)})).update("nb_files",function(t){return t+1})},e.computeDerivatedData=function(t){return t=t.update("last_modified",c)},e.toStrListHeader=function(){return r.List.of("size (octet)","last_modified","comments","tags")},e.toStrList=function(t){return r.List.of(t.get("size"),new Date(t.get("last_modified").get("max")),t.get("comments"),h(t.get("tags")).toString())},e.getSize=function(t){return t.get("size")},e.setSize=function(t,e){return e.set("size",t)},e.getLastModified=function(t){return t.get("last_modified")},e.setLastModified=function(t,e){return e.set("last_modified",t)},e.getAlias=function(t){return t.get("alias")},e.setAlias=function(t,e){return e.set("alias",t)},e.getComments=function(t){return t.get("comments")},e.setComments=function(t,e){return e.set("comments",t)},e.getTags=function(t){return t.get("tags")},e.setTags=function(t,e){return e.set("tags",t)},e.toJs=function(t){return t=(t=(t=t.update("tags",h)).update("last_modified",a)).toJS()}),m=e.fromJs=function(t){return t=(t=(t=new f(t)).update("last_modified",s)).update("tags",p)};e.toJson=function(t){return JSON.stringify(g(t))},e.fromJson=function(t){return m(JSON.parse(t))},e.v5ToCommon=function(t){return(0,r.Map)({size:t.get("size"),last_modified:t.get("last_modified"),alias:t.get("alias"),comments:t.get("comments"),tags:t.get("tags")})},e.toCommon=function(t){return(0,r.Map)({size:t.get("size"),last_modified:t.get("last_modified").get("max"),alias:t.get("alias"),comments:t.get("comments"),tags:t.get("tags")})},e.fromV5=function(t){return d({size:t.get("size"),nb_files:1,last_modified:t.get("last_modified"),alias:t.get("alias"),comments:t.get("comments"),tags:t.get("tags")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSubIdList=e.getLeafIdArray=e.getIDPath=e.fromLegacyCsv=e.setParentPath=e.toStrList2=e.fromJs=e.toJs=e.fromJson=e.toJson=e.sortByMaxRemainingPathLength=e.sortByDate=e.sortBySize=e.computeDerivatedData=e.makeTree=e.pushOnQueue=e.rootId=e.volume=e.contentQueueFromJs=e.contentQueueToJs=e.contentQueueFromJson=e.contentQueueToJson=e.arbitraryContentQueue=e.ghostTreeFromJs=e.getAllTags=e.deleteTagged=e.addTagged=e.getTagged=e.setSessionName=e.getSessionName=e.updateByID=e.setByID=e.getByID=e.parentPath=e.depth=e.size_overall=e.size_files=e.empty=e.arbitrary=e.tagsFromJson=e.tagsToJson=e.tagsFromJs=e.tagsToJs=e.arbitraryTags=e.qeFromJson=e.qeToJson=e.qeFromJs=e.qeToJs=e.arbitraryQe=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(0),i=n(16),u=f(n(27)),a=f(n(41)),s=f(n(15)),c=(f(n(26)),f(n(40)));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var l=Object.assign({},c);l.arbitrary=l.arbitrary(a.update,a.arbitrary),l.update=l.update(a.update);var h=l.sort(a.compareSize),p=(l.isSorted(a.compareSize),l.sort(a.compareDate));l.isSorted(a.compareDate);l.toStrList2=l.toStrList2(a.toStrListHeader,a.toStrList),l.toJson=l.toJson(a.toJson),l.fromJson=l.fromJson(a.fromJson),l.toJs=l.toJs(a.toJs),l.fromJs=l.fromJs(a.fromJs);var d=(0,o.Record)({path:(0,o.List)(),content:null}),g=function(){return(0,o.List)(s.array(function(){return"p"+Math.round(1*Math.random())}))},m=e.arbitraryQe=function(){return new d({path:g(),content:a.arbitrary()})},y=e.qeToJs=function(t){return t=(t=(t=t.update("path",function(t){return t.toJS()})).update("content",a.toJs)).toJS()},v=e.qeFromJs=function(t){return t=(t=(t=new d(t)).update("path",o.List)).update("content",a.fromJs)},_=(e.qeToJson=function(t){return t=(t=t.update("path",function(t){return t.toJS()})).update("content",a.toJson),t=JSON.stringify(t.toJS())},e.qeFromJson=function(t){return t=(t=(t=new d(JSON.parse(t))).update("path",o.List)).update("content",a.fromJson)},(0,o.Record)({session_name:"Untitled",version:7,content_queue:(0,o.List)(),tree:null,tags:(0,o.Map)(),parent_path:(0,o.List)()})),b=e.arbitraryTags=function(){return s.immutableMap(s.string,function(){return s.immutableSet(function(){return(0,i.generateRandomString)(40)})})},w=e.tagsToJs=function(t){return t.toJS()},S=e.tagsFromJs=function(t){return t=(t=(0,o.Map)(t)).map(o.Set)},M=e.tagsToJson=function(t){return t=w(t),t=JSON.stringify(t)},x=e.tagsFromJson=function(t){return t=JSON.parse(t),t=S(t)},O=(e.arbitrary=function(){for(var t=O(),e=2*s.index()-1;e>=0;e--)t=A(g().join("/"),a.arbitrary(),t);return t=T(t),t=(t=P(t)).set("tags",b())},e.empty=function(){return new _({tree:l.init(a.create())})}),J=(e.size_files=function(t){return t.get("content_queue").size},e.size_overall=function(t){return t.get("tree").get("table").size-1},e.depth=function(t){return l.depth(t.get("tree"))},e.parentPath=function(t){return t.get("parent_path").toArray()},e.getByID=function(t,e){return l.getEntryById(t,e.get("tree"))}),z=(e.setByID=function(t,e,n){return n.update("tree",function(n){return l.setEntryById(t,e,n)})},e.updateByID=function(t,e,n){return n.update("tree",function(n){return l.updateEntryById(t,e,n)})},e.getSessionName=function(t){return t.get("session_name")},e.setSessionName=function(t,e){return e.set("session_name",t)},e.getTagged=function(t,e){return t.get("tags").get(e)},e.addTagged=function(t,e,n){return t.update("tags",function(t){return t.update(e,function(t){return void 0===t?o.Set.of(n):t.add(n)})})},e.deleteTagged=function(t,e,n){return t.update("tags",function(t){var r=t.update(e,function(t){return t.delete(n)});return 0===r.get(e).size?t.delete(e):r})},e.getAllTags=function(t){return t.get("tags")},e.ghostTreeFromJs=function(t,e){return e=e.set("tree",l.fromJs(t))},e.arbitraryContentQueue=function(){return s.immutableList(m)},e.contentQueueToJson=function(t){return t=L(t),t=JSON.stringify(t)}),I=e.contentQueueFromJson=function(t){return t=JSON.parse(t),t=j(t)},L=e.contentQueueToJs=function(t){return t=(t=t.map(y)).toJS()},j=e.contentQueueFromJs=function(t){return t=(t=(0,o.List)(t)).map(v)},E=(e.volume=function(t){return a.getSize(J(E(t),t).get("content"))},e.rootId=function(t){return l.getRootId(t.get("tree"))}),A=e.pushOnQueue=function(t,e,n){return n=n.update("content_queue",function(n){return n.push(function(t,e){return new d({path:(0,o.List)(t.split("/")),content:e})}(t,e))})},T=e.makeTree=function(t){return t=t.update("tree",function(e){return e=e.asMutable(),t.get("content_queue").forEach(function(t){e=function(t,e){return e=l.update(t.get("path").toJS(),t.get("content"),e)}(t,e)}),e.asImmutable()})},P=(e.computeDerivatedData=function(t){return t=t.update("tree",function(t){return t=l.mapContent(a.computeDerivatedData,t)})},e.sortBySize=u.make(function(t){return t=t.update("tree",h)}));e.sortByDate=u.make(function(t){return t=t.update("tree",p)}),e.sortByMaxRemainingPathLength=u.make(function(t){return t=t.update("tree",l.sortByMaxRemainingPathLength)}),e.toJson=u.make(function(t){return t=(t=(t=(t=t.update("tree",l.toJson)).update("content_queue",z)).update("tags",M)).toJS(),JSON.stringify(t)}),e.fromJson=function(t){var e=JSON.parse(t);return e=(e=(e=(e=(e=new _(e)).update("tags",x)).update("content_queue",I)).update("tree",l.fromJson)).update("parent_path",o.List)},e.toJs=function(t){return(t=(t=(t=t.update("tree",l.toJs)).update("content_queue",L)).update("tags",w)).toJS()},e.fromJs=function(t){var e=new _(t);return e=(e=(e=(e=e.update("tags",S)).update("content_queue",j)).update("tree",l.fromJs)).update("parent_path",o.List)},e.toStrList2=u.make(function(t){return l.toStrList2(t.get("tree"))}),e.setParentPath=function(t,e){return e.set("parent_path",(0,o.List)(t))},e.fromLegacyCsv=function(t){var e=function(t,e){return e.set("version",t)}(4,O());t.split("\n").filter(function(t){return""!==t}).map(function(t){return t.match(/(".*?")|([^,"\s]*)/g).filter(function(t){return""!==t}).map(function(t){return t.replace(/"/g,"")})}).forEach(function(t){var n=r(t,2),o=n[0],i=n[1];e=A(o,a.create({size:Number(i)}),e)});return e=T(e),e=P(e)},e.getIDPath=function(t,e){return l.getIdPath(t,e.get("tree"))},e.getLeafIdArray=function(t){return l.getLeafIdArray(t.get("tree"))},e.getSubIdList=function(t,e){return l.getSubIdList(t,e.get("tree"))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromV5=e.toCommon=e.v5ToCommon=e.getSubIdList=e.getLeafIdArray=e.depth=e.fromJsTree=e.toJsTree=e.fromJs=e.toJs=e.fromJson=e.toJson=e.mapContent=e.toList=e.toStrList2=e.getIdPath=e.remakePath=e.isSorted=e.sortByMaxRemainingPathLength=e.sort=e.update=e.arbitrary=e.updateEntryById=e.getEntryById=e.size=e.init=e.getRootId=e.getMaxRemainingPathLength=e.isRoot=e.isLeaf=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=(s(n(28)),s(n(17))),i=s(n(29)),u=n(18),a=n(0);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=(0,a.Record)({name:"",content:null,children:(0,a.List)(),parent:null,depth:0,sum_children_path_length:0,max_children_path_length:0,parent_path_length:0}),f=e.isLeaf=function(t){return 0===t.get("children").size},l=(e.isRoot=function(t){return null===t.get("parent")},e.getMaxRemainingPathLength=function(t){return t.get("max_children_path_length")+t.get("name").length}),h=(0,a.Record)({table:(0,a.Map)(),root_id:""}),p=function(){return new h},d=function(t){return t.get("table")},g=function(t,e){return e.set("table",t)},m=function(t,e){return e.update("table",t)},y=function(t){return function(t){return Array.isArray(t)?t:Array.from(t)}(d(t).keys()).slice(0)},v=e.getRootId=function(t){return t.get("root_id")},_=function(t,e){return e.set("root_id",t)},b=function(){return(0,u.generateRandomString)(40)},w=e.init=function(t){var e=b(),n=(0,a.Map)(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,new c({content:t}))),r=p();return r=g(n,r),r=_(e,r)},S=(e.size=function(t){return d(t).size},e.getEntryById=function(t,e){return d(e).get(t)}),M=function(t,e,n){return m(function(n){return n.set(t,e)},n)},x=e.updateEntryById=function(t,e,n){return m(function(n){return n.update(t,function(t){return e(t)})},n)},O=function t(e,n,r){var o=[];return S(n,r).get("children").forEach(function(n){o.push(t(e,n,r))}),e(o,S(n,r))},J=(e.arbitrary=function(t,e){return function(){for(var n=w(e()),r=j(t),i=0;i<50*Math.random();i++)n=r(o.array(function(){return"p"+Math.round(1*Math.random())}),e(),n);return n}},function(t){return t.join("").length}),z=function(t,e,n){return function(r){r=I(t,e,r);var o=J(n);return r=(r=r.update("sum_children_path_length",function(t){return t+o})).update("max_children_path_length",function(t){return Math.max(t,o)})}},I=function(t,e,n){return n=n.update("content",function(n){return t(e,n)})},L=function t(e,n,r,o,i){if(0===n.length)return i;var u=n[0];n=n.slice(1);var a=function(t,e,n){var r=S(e,n).get("children").filter(function(e){return S(e,n).get("name")===t});return r.size?r.get(0):null}(u,o,i);if(a)i=x(a,z(e,r,n),i);else{a=b();var s=J(n),f=S(o,i),l=new c({name:u,content:r,parent:o,depth:f.get("depth")+1,parent_path_length:f.get("parent_path_length")+f.get("name").length,max_children_path_length:s,sum_children_path_length:s});i=M(a,l,i),i=x(o,function(t){return function(t,e){return e=e.update("children",function(e){return e.push(t)})}(a,t)},i)}return t(e,n,r,a,i)},j=e.update=function(t){return function(e,n,r){var o=v(r);return r=x(o,z(t,n,e),r),r=L(t,e,n,o,r)}},E=function t(e,n,o,i){return i=x(e,function(t){return function(t,e,n,o){var i=function(t,e){var o=r(t,2),i=(o[0],o[1]),u=r(e,2),a=(u[0],u[1]);return n(i,a)};return o=o.update("children",function(n){return n.map(function(n){return[n,e(n,t)]}).sort(i).map(function(t){var e=r(t,2),n=e[0];return e[1],n})})}(i,n,o,t)},i),S(e,i).get("children").forEach(function(e){return i=t(e,n,o,i)}),i},A=(e.sort=function(t){return function(e){var n=v(e);return e=E(n,function(t,e){return S(t,e).get("content")},t,e)}},e.sortByMaxRemainingPathLength=function(t){var e=v(t);return t=E(e,function(t,e){return S(t,e)},function(t,e){var n=l(t),r=l(e);return n<r?1:n>r?-1:0},t)},e.isSorted=function(t){return function(e){return function t(e,n,r){for(var o=function(t){return S(t,r).get("content")},i=S(e,r).get("children"),u=!0,a=1;a<i.size;a++)u=u&&1!==n(o(i.get(a-1)),o(i.get(a)));return i.map(function(e){return t(e,n,r)}).reduce(function(t,e){return t&&e},u)}(v(e),t,e)}},e.remakePath=function t(e,n){var r=S(e,n),o=r.get("name"),i=r.get("parent");return i?t(i,n).push(o):a.List.of(o)}),T=(e.getIdPath=function t(e,n){var r=S(e,n).get("parent");return r?t(r,n).push(e):a.List.of(e)},e.toStrList2=function(t,e){return function(n){var r=d(n),o=a.List.of("path").concat(t());return r.map(function(t,r){return a.List.of(A(r,n).slice(1).join("/")).concat(e(t.get("content")))}).reduce(function(t,e){return t.push(e)},a.List.of(o))}},e.toList=function(t){return O(function(t,e){return t.reduce(function(t,e){return t.concat(e)},(0,a.List)()).push(e).map(function(t){return t.set("children",(0,a.List)())}).map(function(t){return t.set("parent",null)})},v(t),t)},e.mapContent=function(t,e){return function t(e,n,r){return S(n,r).get("children").forEach(function(n){r=t(e,n,r)}),r=x(n,function(t){return e(t)},r)}(function(e){return e.update("content",t)},v(e),e)}),P=(e.toJson=function(t){return function(e){return e=T(t,e),JSON.stringify(e.toJS())}},e.fromJson=function(t){return function(e){var n=new h(JSON.parse(e));return n=m(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t).update("children",a.List)})},n)}},e.toJs=function(t){return function(e){return(e=T(t,e)).toJS()}},e.fromJs=function(t){return function(e){var n=new h(e);return n=m(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t).update("children",a.List)})},n)}},e.toJsTree=function(t){return O(function(t,e){return e.set("children",t).set("parent",null).toJS()},v(t),t)},function t(e){var n=e.children.map(t).reduce(function(t,e){return[t[0].concat(e[0]),function(t,e){var n=p();return n=g(d(t).merge(d(e)),n)}(t[1],e[1])]},[[],p()]),o=r(n,2),i=o[0],u=o[1],s=b();return u=M(s,new c(e).set("children",(0,a.List)(i)),u),i.forEach(function(t){u=x(t,function(t){return t.set("parent",s)},u)}),u=_(s,u),[[s],u]}),D=(e.fromJsTree=function(t){var e=P(t),n=r(e,2);n[0];return n[1]},e.depth=i.make(function(t){return O(function(t,e){return t.reduce(function(t,e){return Math.max(t,e)},e.get("depth"))},v(t),t)}),e.getLeafIdArray=function(t){return t=function(t,e){return e=g(d(e).filter(t),e)}(f,t),y(t)},e.getSubIdList=function t(e,n){return S(e,n).get("children").map(function(e){return t(e,n)}).flatten().push(e)},function(t){return(0,a.Map)({name:t.get("name"),content:t.get("content"),children:t.get("children"),parent:t.get("parent"),depth:t.get("depth")})});e.v5ToCommon=function(t){return function(e){var n=e.get("table").map(function(e){return e=e.update("content",t),D(e)}),r=e.get("root_id");return(0,a.Map)({table:n,root_id:r})}},e.toCommon=function(t){return function(e){var n=(e=T(t,e)).get("table").map(D),r=e.get("root_id");return(0,a.Map)({table:n,root_id:r})}},e.fromV5=function(t){return function(e){var n=e.get("table").map(function(e){return e=e.update("content",t),new c(e)}),r=e.get("root_id");return new h({table:n,root_id:r})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromV5=e.toCommon=e.v5ToCommon=e.fromJson=e.toJson=e.fromJs=e.toJs=e.setTags=e.getTags=e.setComments=e.getComments=e.setAlias=e.getAlias=e.setLastModified=e.getLastModified=e.setSize=e.getSize=e.toStrList=e.toStrListHeader=e.computeDerivatedData=e.update=e.compareSize=e.create=e.arbitrary=e.tagsFromJs=e.tagsToJs=e.arbitraryTags=e.lastModifiedFromJs=e.lastModifiedToJs=e.arbitraryLastModified=void 0;var r=n(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(17));var i=(0,r.Record)({max:0,list:(0,r.List)(),min:Number.MAX_SAFE_INTEGER,median:null,average:null}),u=e.arbitraryLastModified=function(){var t=o.immutableList(o.natural);return new i({max:t.max(),list:t,min:t.min()})},a=e.lastModifiedToJs=function(t){return t=(t=t.update("list",function(t){return t.toJS()})).toJS()},s=e.lastModifiedFromJs=function(t){return t=(t=new i(t)).update("list",r.List)},c=function(t){var e=t.get("list");return t=(t=t.set("median",function(t){if(t.size%2==1)return t.get(Math.floor(t.size/2));var e=t.size/2;return(t.get(e-1)+t.get(e))/2}(e))).set("average",function(t){return t.reduce(function(t,e){return t+e},0)/t.size}(e))},f=(0,r.Record)({size:0,nb_files:1,last_modified:new i,alias:"",comments:"",tags:(0,r.Set)()}),l=e.arbitraryTags=function(){return(0,r.Set)(o.array(o.string))},h=e.tagsToJs=function(t){return t.toArray()},p=e.tagsFromJs=function(t){return(0,r.Set)(t)},d=(e.arbitrary=function(){return new f({size:o.natural(),nb_files:o.natural(),last_modified:u(),alias:o.string(),comments:o.string(),tags:l()})},e.create=function(t){return t&&(t.last_modified=function(t){return new i({max:t,list:r.List.of(t),min:t,median:t,average:t})}(t.last_modified)),new f(t)}),g=(e.compareSize=function(t,e){return t.get("size")===e.get("size")?0:t.get("size")>e.get("size")?-1:1},e.update=function(t,e){var n=t.get("size");e=e.update("size",function(t){return t+n});t.get("last_modified").get("max");return e=(e=e.update("last_modified",function(e){return function(t,e){var n=t.get("max");return e=(e=(e=e.update("max",function(t){return Math.max(t,n)})).update("min",function(t){return Math.min(t,n)})).update("list",function(t){return t.push(n)})}(t.get("last_modified"),e)})).update("nb_files",function(t){return t+1})},e.computeDerivatedData=function(t){return t=t.update("last_modified",c)},e.toStrListHeader=function(){return r.List.of("size (octet)","last_modified","comments","tags")},e.toStrList=function(t){return r.List.of(t.get("size"),new Date(t.get("last_modified").get("max")),t.get("comments"),h(t.get("tags")).toString())},e.getSize=function(t){return t.get("size")},e.setSize=function(t,e){return e.set("size",t)},e.getLastModified=function(t){return t.get("last_modified")},e.setLastModified=function(t,e){return e.set("last_modified",t)},e.getAlias=function(t){return t.get("alias")},e.setAlias=function(t,e){return e.set("alias",t)},e.getComments=function(t){return t.get("comments")},e.setComments=function(t,e){return e.set("comments",t)},e.getTags=function(t){return t.get("tags")},e.setTags=function(t,e){return e.set("tags",t)},e.toJs=function(t){return t=(t=(t=t.update("tags",h)).update("last_modified",a)).toJS()}),m=e.fromJs=function(t){return t=(t=(t=new f(t)).update("last_modified",s)).update("tags",p)};e.toJson=function(t){return JSON.stringify(g(t))},e.fromJson=function(t){return m(JSON.parse(t))},e.v5ToCommon=function(t){return(0,r.Map)({size:t.get("size"),last_modified:t.get("last_modified"),alias:t.get("alias"),comments:t.get("comments"),tags:t.get("tags")})},e.toCommon=function(t){return(0,r.Map)({size:t.get("size"),last_modified:t.get("last_modified").get("max"),alias:t.get("alias"),comments:t.get("comments"),tags:t.get("tags")})},e.fromV5=function(t){return d({size:t.get("size"),nb_files:1,last_modified:t.get("last_modified"),alias:t.get("alias"),comments:t.get("comments"),tags:t.get("tags")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSubIdList=e.getLeafIdArray=e.getIDPath=e.fromLegacyCsv=e.setParentPath=e.toStrList2=e.fromJs=e.toJs=e.fromJson=e.toJson=e.sortByMaxRemainingPathLength=e.sortBySize=e.computeDerivatedData=e.makeTree=e.pushOnQueue=e.rootId=e.volume=e.contentQueueFromJs=e.contentQueueToJs=e.contentQueueFromJson=e.contentQueueToJson=e.arbitraryContentQueue=e.ghostTreeFromJs=e.getAllTags=e.deleteTagged=e.addTagged=e.getTagged=e.setSessionName=e.getSessionName=e.updateByID=e.setByID=e.getByID=e.parentPath=e.depth=e.size_overall=e.size_files=e.empty=e.arbitrary=e.tagsFromJson=e.tagsToJson=e.tagsFromJs=e.tagsToJs=e.arbitraryTags=e.qeFromJson=e.qeToJson=e.qeFromJs=e.qeToJs=e.arbitraryQe=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(0),i=n(18),u=f(n(29)),a=f(n(44)),s=f(n(17)),c=(f(n(28)),f(n(43)));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var l=Object.assign({},c);l.arbitrary=l.arbitrary(a.update,a.arbitrary),l.update=l.update(a.update),l.sort=l.sort(a.compareSize),l.isSorted=l.isSorted(a.compareSize),l.toStrList2=l.toStrList2(a.toStrListHeader,a.toStrList),l.toJson=l.toJson(a.toJson),l.fromJson=l.fromJson(a.fromJson),l.toJs=l.toJs(a.toJs),l.fromJs=l.fromJs(a.fromJs);var h=(0,o.Record)({path:(0,o.List)(),content:null}),p=function(){return(0,o.List)(s.array(function(){return"p"+Math.round(1*Math.random())}))},d=e.arbitraryQe=function(){return new h({path:p(),content:a.arbitrary()})},g=e.qeToJs=function(t){return t=(t=(t=t.update("path",function(t){return t.toJS()})).update("content",a.toJs)).toJS()},m=e.qeFromJs=function(t){return t=(t=(t=new h(t)).update("path",o.List)).update("content",a.fromJs)},y=(e.qeToJson=function(t){return t=(t=t.update("path",function(t){return t.toJS()})).update("content",a.toJson),t=JSON.stringify(t.toJS())},e.qeFromJson=function(t){return t=(t=(t=new h(JSON.parse(t))).update("path",o.List)).update("content",a.fromJson)},(0,o.Record)({session_name:"Untitled",version:6,content_queue:(0,o.List)(),tree:null,tags:(0,o.Map)(),parent_path:(0,o.List)()})),v=e.arbitraryTags=function(){return s.immutableMap(s.string,function(){return s.immutableSet(function(){return(0,i.generateRandomString)(40)})})},_=e.tagsToJs=function(t){return t.toJS()},b=e.tagsFromJs=function(t){return t=(t=(0,o.Map)(t)).map(o.Set)},w=e.tagsToJson=function(t){return t=_(t),t=JSON.stringify(t)},S=e.tagsFromJson=function(t){return t=JSON.parse(t),t=b(t)},M=(e.arbitrary=function(){for(var t=M(),e=2*s.index()-1;e>=0;e--)t=j(p().join("/"),a.arbitrary(),t);return t=E(t),t=(t=A(t)).set("tags",v())},e.empty=function(){return new y({tree:l.init(a.create())})}),x=(e.size_files=function(t){return t.get("content_queue").size},e.size_overall=function(t){return t.get("tree").get("table").size-1},e.depth=function(t){return l.depth(t.get("tree"))},e.parentPath=function(t){return t.get("parent_path").toArray()},e.getByID=function(t,e){return l.getEntryById(t,e.get("tree"))}),O=(e.setByID=function(t,e,n){return n.update("tree",function(n){return l.setEntryById(t,e,n)})},e.updateByID=function(t,e,n){return n.update("tree",function(n){return l.updateEntryById(t,e,n)})},e.getSessionName=function(t){return t.get("session_name")},e.setSessionName=function(t,e){return e.set("session_name",t)},e.getTagged=function(t,e){return t.get("tags").get(e)},e.addTagged=function(t,e,n){return t.update("tags",function(t){return t.update(e,function(t){return void 0===t?o.Set.of(n):t.add(n)})})},e.deleteTagged=function(t,e,n){return t.update("tags",function(t){var r=t.update(e,function(t){return t.delete(n)});return 0===r.get(e).size?t.delete(e):r})},e.getAllTags=function(t){return t.get("tags")},e.ghostTreeFromJs=function(t,e){return e=e.set("tree",l.fromJs(t))},e.arbitraryContentQueue=function(){return s.immutableList(d)},e.contentQueueToJson=function(t){return t=z(t),t=JSON.stringify(t)}),J=e.contentQueueFromJson=function(t){return t=JSON.parse(t),t=I(t)},z=e.contentQueueToJs=function(t){return t=(t=t.map(g)).toJS()},I=e.contentQueueFromJs=function(t){return t=(t=(0,o.List)(t)).map(m)},L=(e.volume=function(t){return a.getSize(x(L(t),t).get("content"))},e.rootId=function(t){return l.getRootId(t.get("tree"))}),j=e.pushOnQueue=function(t,e,n){return n=n.update("content_queue",function(n){return n.push(function(t,e){return new h({path:(0,o.List)(t.split("/")),content:e})}(t,e))})},E=e.makeTree=function(t){return t=t.update("tree",function(e){return e=e.asMutable(),t.get("content_queue").forEach(function(t){e=function(t,e){return e=l.update(t.get("path").toJS(),t.get("content"),e)}(t,e)}),e.asImmutable()})},A=(e.computeDerivatedData=function(t){return t=t.update("tree",function(t){return t=l.mapContent(a.computeDerivatedData,t)})},e.sortBySize=u.make(function(t){return t=t.update("tree",l.sort)}));e.sortByMaxRemainingPathLength=u.make(function(t){return t=t.update("tree",l.sortByMaxRemainingPathLength)}),e.toJson=u.make(function(t){return t=(t=(t=(t=t.update("tree",l.toJson)).update("content_queue",O)).update("tags",w)).toJS(),JSON.stringify(t)}),e.fromJson=function(t){var e=JSON.parse(t);return e=(e=(e=(e=(e=new y(e)).update("tags",S)).update("content_queue",J)).update("tree",l.fromJson)).update("parent_path",o.List)},e.toJs=function(t){return(t=(t=(t=t.update("tree",l.toJs)).update("content_queue",z)).update("tags",_)).toJS()},e.fromJs=function(t){var e=new y(t);return e=(e=(e=(e=e.update("tags",b)).update("content_queue",I)).update("tree",l.fromJs)).update("parent_path",o.List)},e.toStrList2=u.make(function(t){return l.toStrList2(t.get("tree"))}),e.setParentPath=function(t,e){return e.set("parent_path",(0,o.List)(t))},e.fromLegacyCsv=function(t){var e=function(t,e){return e.set("version",t)}(4,M());t.split("\n").filter(function(t){return""!==t}).map(function(t){return t.match(/(".*?")|([^,"\s]*)/g).filter(function(t){return""!==t}).map(function(t){return t.replace(/"/g,"")})}).forEach(function(t){var n=r(t,2),o=n[0],i=n[1];e=j(o,a.create({size:Number(i)}),e)});return e=E(e),e=A(e)},e.getIDPath=function(t,e){return l.getIdPath(t,e.get("tree"))},e.getLeafIdArray=function(t){return l.getLeafIdArray(t.get("tree"))},e.getSubIdList=function(t,e){return l.getSubIdList(t,e.get("tree"))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mkDummyParent=e.mkDummyFile=e.isRoot=e.isLeaf=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(t){var e=(0,a.Record)({table:(0,a.Map)(),root_id:""}),n=function(){return new e},s=function(t){return t.get("table")},f=function(t,e){return e.set("table",t)},l=function(t,e){return e.update("table",t)},h=function(t){return t.get("root_id")},p=function(t,e){return e.set("root_id",t)},d=function(){return(0,u.generateRandomString)(40)},g=function(t){var e=d(),r=(0,a.Map)(function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},e,new c({content:t}))),o=n();return o=f(r,o),o=p(e,o)},m=function(t,e){return s(e).get(t)},y=function(t,e,n){return l(function(n){return n.set(t,e)},n)},v=function(t,e,n){return l(function(n){return n.update(t,function(t){return e(t)})},n)},_=function t(e,n,r){var o=[];return m(n,r).get("children").forEach(function(n){o.push(t(e,n,r))}),e(o,m(n,r))},b=function(e,n){return n=n.update("content",function(n){return t.update(e,n)})},w=function t(e,n,r,o){if(0===e.length)return o;var i=e[0];e=e.slice(1);var u=function(t,e,n){var r=m(e,n).get("children").filter(function(e){return m(e,n).get("name")===t});return r.size?r.get(0):null}(i,r,o);if(u)o=v(u,function(t){return b(n,t)},o);else{u=d();var a=new c({name:i,content:n,parent:r,depth:m(r,o).get("depth")+1});o=y(u,a,o),o=v(r,function(t){return function(t,e){return e=e.update("children",function(e){return e.push(t)})}(u,t)},o)}return t(e,n,u,o)},S=function(t,e,n){var r=h(n);return n=v(r,function(t){return b(e,t)},n),n=w(t,e,r,n)},M=function(e,n){var o=function(e,n){var o=r(e,2),i=(o[0],o[1]),u=r(n,2),a=(u[0],u[1]);return t.compare(i,a)};return n=n.update("children",function(t){return t.map(function(t){return[t,function(t,e){return m(t,e).get("content")}(t,e)]}).sort(o).map(function(t){var e=r(t,2),n=e[0];e[1];return n})})},x=function t(e,n){var r=m(e,n),o=r.get("name"),i=r.get("parent");return i?t(i,n).push(o):a.List.of(o)},O=function(t,e){return function t(e,n,r){return m(n,r).get("children").forEach(function(n){r=t(e,n,r)}),r=v(n,function(t){return e(t)},r)}(function(e){return e.update("content",t)},h(e),e)},J=function t(e){var o=e.children.map(t).reduce(function(t,e){return[t[0].concat(e[0]),function(t,e){var r=n();return r=f(s(t).merge(s(e)),r)}(t[1],e[1])]},[[],n()]),i=r(o,2),u=i[0],l=i[1],h=d();return l=y(h,new c(e).set("children",(0,a.List)(u)),l),u.forEach(function(t){l=v(t,function(t){return t.set("parent",h)},l)}),l=p(h,l),[[h],l]},z=i.make(function(t){return _(function(t,e){return t.reduce(function(t,e){return Math.max(t,e)},e.get("depth"))},h(t),t)});return{update:S,sort:function(t){return t=function t(e,n){return n=v(e,function(t){return M(n,t)},n),m(e,n).get("children").forEach(function(e){return n=t(e,n)}),n}(h(t),t)},isSorted:function(e){return function e(n,r){for(var o=function(t){return m(t,r).get("content")},i=m(n,r).get("children"),u=!0,a=1;a<i.size;a++)u=u&&1!==t.compare(o(i.get(a-1)),o(i.get(a)));return i.map(function(t){return e(t,r)}).reduce(function(t,e){return t&&e},u)}(h(e),e)},arbitrary:function(){for(var e=g(t.arbitrary()),n=0;n<50*Math.random();n++)e=S(o.array(function(){return"p"+Math.round(1*Math.random())}),t.arbitrary(),e);return e},init:g,getRootId:h,remakePath:x,getEntryById:m,updateEntryById:v,toStrList2:function(e){var n=s(e),r=a.List.of("path").concat(t.toStrListHeader());return n.map(function(n,r){return a.List.of(x(r,e).slice(1).join("/")).concat(t.toStrList(n.get("content")))}).reduce(function(t,e){return t.push(e)},a.List.of(r))},toJsTree:function(t){return _(function(t,e){return e.set("children",t).set("parent",null).toJS()},h(t),t)},fromJsTree:function(t){var e=J(t),n=r(e,2);n[0];return n[1]},toJson:function(e){return e=O(t.toJson,e),JSON.stringify(e.toJS())},fromJson:function(n){var r=new e(JSON.parse(n));return r=l(function(e){return(0,a.Map)(e).map(function(e){return new c(e).update("content",t.fromJson).update("children",a.List)})},r)},toList:function(t){return _(function(t,e){return t.reduce(function(t,e){return t.concat(e)},(0,a.List)()).push(e).map(function(t){return t.set("children",(0,a.List)())}).map(function(t){return t.set("parent",null)})},h(t),t)},size:function(t){return s(t).size},depth:z}};s(n(30));var o=s(n(19)),i=s(n(31)),u=n(20),a=n(0);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=(0,a.Record)({name:"",content:null,children:(0,a.List)(),parent:null,depth:0});e.isLeaf=function(t){return 0===t.get("children").size},e.isRoot=function(t){return null===t.get("parent")},e.mkDummyFile=function(){return new c({children:(0,a.List)(),name:""})},e.mkDummyParent=function(){return new c({children:(0,a.List)(["-1"]),name:""})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromJson=e.toJson=e.fromJs=e.toJs=e.setTags=e.getTags=e.setComments=e.getComments=e.setAlias=e.getAlias=e.setLastModified=e.getLastModified=e.setSize=e.getSize=e.toStrList=e.toStrListHeader=e.update=e.compare=e.create=e.arbitrary=e.tagsFromJs=e.tagsToJs=e.arbitraryTags=void 0;var r=n(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(19));var i=(0,r.Record)({size:0,last_modified:null,error_is_file:!1,alias:"",comments:"",tags:(0,r.Set)()}),u=e.arbitraryTags=function(){return(0,r.Set)(o.array(o.string))},a=e.tagsToJs=function(t){return t.toArray()},s=e.tagsFromJs=function(t){return(0,r.Set)(t)},c=(e.arbitrary=function(){return new i({size:o.natural(),last_modified:o.natural(),error_is_file:o.nullable(o.bool),alias:o.string(),comments:o.string(),tags:u()})},e.create=function(t){return new i(t)},e.compare=function(t,e){return t.get("size")===e.get("size")?0:t.get("size")>e.get("size")?-1:1},e.update=function(t,e){var n=t.get("size");e=e.update("size",function(t){return t+n});var r=t.get("last_modified");return e=e.update("last_modified",function(t){return Math.max(t,r)})},e.toStrListHeader=function(){return r.List.of("size (octet)","last_modified","comments","tags")},e.toStrList=function(t){return r.List.of(t.get("size"),new Date(t.get("last_modified")),t.get("comments"),a(t.get("tags")).toString())},e.getSize=function(t){return t.get("size")},e.setSize=function(t,e){return e.set("size",t)},e.getLastModified=function(t){return t.get("last_modified")},e.setLastModified=function(t,e){return e.set("last_modified",t)},e.getAlias=function(t){return t.get("alias")},e.setAlias=function(t,e){return e.set("alias",t)},e.getComments=function(t){return t.get("comments")},e.setComments=function(t,e){return e.set("comments",t)},e.getTags=function(t){return t.get("tags")},e.setTags=function(t,e){return e.set("tags",t)},e.toJs=function(t){return t=(t=t.update("tags",a)).toJS()}),f=e.fromJs=function(t){return t=(t=new i(t)).update("tags",s)};e.toJson=function(t){return JSON.stringify(c(t))},e.fromJson=function(t){return f(JSON.parse(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromLegacyCsv=e.setParentPath=e.toStrList2=e.toJs=e.fromJson=e.toJson=e.sort=e.makeTree=e.pushOnQueue=e.rootId=e.volume=e.setSessionName=e.getSessionName=e.updateByID=e.setByID=e.getByID=e.parentPath=e.depth=e.size=e.empty=e.arbitrary=e.qeFromJson=e.qeToJson=e.arbitraryQe=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(0),i=(n(20),s(n(31))),u=s(n(47)),a=s(n(19));s(n(30));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=(0,function(t){return t&&t.__esModule?t:{default:t}}(n(46)).default)(u),f=(0,o.Record)({path:(0,o.List)(),content:null}),l=function(){return(0,o.List)(a.array(function(){return"p"+Math.round(1*Math.random())}))},h=(e.arbitraryQe=function(){return new f({path:l(),content:u.arbitrary()})},e.qeToJson=function(t){return t=(t=t.update("path",function(t){return t.toJS()})).update("content",u.toJson),t=JSON.stringify(t.toJS())}),p=e.qeFromJson=function(t){return t=(t=(t=new f(JSON.parse(t))).update("path",o.List)).update("content",u.fromJson)},d=(0,o.Record)({session_name:"Untitled",version:5,content_queue:(0,o.List)(),nb_push:0,tree:null,parent_path:(0,o.List)()}),g=(e.arbitrary=function(){for(var t=g(),e=2*a.index()-1;e>=0;e--)t=v(l().join("/"),u.arbitrary(),t);return t=_(t),t=b(t)},e.empty=function(){return new d({tree:c.init(u.create())})}),m=(e.size=function(t){return t.get("content_queue").size},e.depth=function(t){return c.depth(t.get("tree"))},e.parentPath=function(t){return t.get("parent_path").toArray()},e.getByID=function(t,e){return c.getEntryById(t,e.get("tree"))}),y=(e.setByID=function(t,e,n){return n.update("tree",function(n){return c.setEntryById(t,e,n)})},e.updateByID=function(t,e,n){return n.update("tree",function(n){return c.updateEntryById(t,e,n)})},e.getSessionName=function(t){return t.get("session_name")},e.setSessionName=function(t,e){return e.set("session_name",t)},e.volume=function(t){return u.getSize(m(y(t),t).get("content"))},e.rootId=function(t){return c.getRootId(t.get("tree"))}),v=e.pushOnQueue=function(t,e,n){return n=(n=n.update("content_queue",function(n){return n.push(new f({path:(0,o.List)(t.split("/")),content:u.create(e)}))})).update("depth",function(e){return Math.max(e,t.length)})},_=e.makeTree=function(t){return t=t.update("tree",function(e){return e=e.asMutable(),t.get("content_queue").forEach(function(t){e=c.update(t.get("path").toJS(),t.get("content"),e)}),e.asImmutable()})},b=e.sort=function(t){return t=t.update("tree",c.sort)};e.toJson=i.make(function(t){return t=(t=t.update("tree",c.toJson)).update("content_queue",function(t){return t.map(h)}),JSON.stringify(t.toJS())}),e.fromJson=function(t){var e=new d(JSON.parse(t));return e=(e=(e=e.update("content_queue",function(t){return(0,o.List)(t).map(p)})).update("tree",c.fromJson)).update("parent_path",o.List)},e.toJs=function(t){return t.toJS()},e.toStrList2=i.make(function(t){return c.toStrList2(t.get("tree"))}),e.setParentPath=function(t,e){return e.set("parent_path",(0,o.List)(t))},e.fromLegacyCsv=function(t){var e=function(t,e){return e.set("version",t)}(4,g());t.split("\n").filter(function(t){return""!==t}).map(function(t){return t.match(/(".*?")|([^,"\s]*)/g).filter(function(t){return""!==t}).map(function(t){return t.replace(/"/g,"")})}).forEach(function(t){var n=r(t,2),o=n[0],i=n[1];e=v(o,u.create({size:Number(i)}),e)});return e=_(e),e=b(e)}},function(t,e,n){var r=n(7);t.exports=function(){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(e,n,o){return" "===e?e:r[t[Math.round(Math.random()*(t.length-1))]](e)}}()},function(t,e,n){var r=n(7);t.exports=function(){var t=["red","yellow","green","blue","magenta"];return function(e,n,o){return" "===e?e:r[t[n++%t.length]](e)}}()},function(t,e,n){var r=n(7);t.exports=function(t,e,n){return e%2==0?t:r.inverse(t)}},function(t,e,n){var r=n(7);t.exports=function(t,e,n){if(" "===t)return t;switch(e%3){case 0:return r.red(t);case 1:return r.white(t);case 2:return r.blue(t)}}},function(t,e){t.exports=function(t,e){t=t||"   he is here   ";var n={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},r=[].concat(n.up,n.down,n.mid);function o(t){return Math.floor(Math.random()*t)}function i(t){var e=!1;return r.filter(function(n){e=n===t}),e}return function(t,e){var r,u,a="";for(u in(e=e||{}).up=void 0===e.up||e.up,e.mid=void 0===e.mid||e.mid,e.down=void 0===e.down||e.down,e.size=void 0!==e.size?e.size:"maxi",t=t.split(""))if(!i(u)){switch(a+=t[u],r={up:0,down:0,mid:0},e.size){case"mini":r.up=o(8),r.mid=o(2),r.down=o(8);break;case"maxi":r.up=o(16)+3,r.mid=o(4)+1,r.down=o(64)+3;break;default:r.up=o(8)+1,r.mid=o(6)/2,r.down=o(8)+1}var s=["up","mid","down"];for(var c in s)for(var f=s[c],l=0;l<=r[f];l++)e[f]&&(a+=n[f][o(n[f].length)])}return a}(t,e)}},function(t,e){t.exports=function(t,e){var n="",r={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return(t=(t=t||"Run the trap, drop the bass").split("")).forEach(function(t){t=t.toLowerCase();var e=r[t]||[" "],o=Math.floor(Math.random()*e.length);n+=void 0!==r[t]?r[t][o]:t}),n}},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){var r=(n=n||e.argv).indexOf("--"),o=/^-{1,2}/.test(t)?"":"--",i=n.indexOf(o+t);return-1!==i&&(-1===r||i<r)}}).call(this,n(32))},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},function(t,e,n){"use strict";(function(e){var r=n(56),o=n(55),i=e.env,u=void 0;function a(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(!1===u)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!t.isTTY&&!0!==u)return 0;var n=u?1:0;if("win32"===e.platform){var a=r.release().split(".");return Number(e.versions.node.split(".")[0])>=8&&Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(t){return t in i})||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in i){var s=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:"COLORTERM"in i?1:(i.TERM,n)}(t))}o("no-color")||o("no-colors")||o("color=false")?u=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(u=!0),"FORCE_COLOR"in i&&(u=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(e.stdout),stderr:a(e.stderr)}}).call(this,n(32))},function(t,e){var n={};t.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(t){var e=r[t],o=n[t]=[];o.open="["+e[0]+"m",o.close="["+e[1]+"m"})},function(t,e){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e){
/*!
   * Chai dependencies.
   */
var n=t.Assertion,r=e.flag,o=t.assert=function(e,r){new n(null,null,t.assert,!0).assert(e,r,"[ negation message unavailable ]")};
/*!
   * Module export.
   */o.fail=function(e,n,r,i){throw r=r||"assert.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},o.fail)},o.isOk=function(t,e){new n(t,e,o.isOk,!0).is.ok},o.isNotOk=function(t,e){new n(t,e,o.isNotOk,!0).is.not.ok},o.equal=function(t,e,i){var u=new n(t,i,o.equal,!0);u.assert(e==r(u,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t,!0)},o.notEqual=function(t,e,i){var u=new n(t,i,o.notEqual,!0);u.assert(e!=r(u,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t,!0)},o.strictEqual=function(t,e,r){new n(t,r,o.strictEqual,!0).to.equal(e)},o.notStrictEqual=function(t,e,r){new n(t,r,o.notStrictEqual,!0).to.not.equal(e)},o.deepEqual=o.deepStrictEqual=function(t,e,r){new n(t,r,o.deepEqual,!0).to.eql(e)},o.notDeepEqual=function(t,e,r){new n(t,r,o.notDeepEqual,!0).to.not.eql(e)},o.isAbove=function(t,e,r){new n(t,r,o.isAbove,!0).to.be.above(e)},o.isAtLeast=function(t,e,r){new n(t,r,o.isAtLeast,!0).to.be.least(e)},o.isBelow=function(t,e,r){new n(t,r,o.isBelow,!0).to.be.below(e)},o.isAtMost=function(t,e,r){new n(t,r,o.isAtMost,!0).to.be.most(e)},o.isTrue=function(t,e){new n(t,e,o.isTrue,!0).is.true},o.isNotTrue=function(t,e){new n(t,e,o.isNotTrue,!0).to.not.equal(!0)},o.isFalse=function(t,e){new n(t,e,o.isFalse,!0).is.false},o.isNotFalse=function(t,e){new n(t,e,o.isNotFalse,!0).to.not.equal(!1)},o.isNull=function(t,e){new n(t,e,o.isNull,!0).to.equal(null)},o.isNotNull=function(t,e){new n(t,e,o.isNotNull,!0).to.not.equal(null)},o.isNaN=function(t,e){new n(t,e,o.isNaN,!0).to.be.NaN},o.isNotNaN=function(t,e){new n(t,e,o.isNotNaN,!0).not.to.be.NaN},o.exists=function(t,e){new n(t,e,o.exists,!0).to.exist},o.notExists=function(t,e){new n(t,e,o.notExists,!0).to.not.exist},o.isUndefined=function(t,e){new n(t,e,o.isUndefined,!0).to.equal(void 0)},o.isDefined=function(t,e){new n(t,e,o.isDefined,!0).to.not.equal(void 0)},o.isFunction=function(t,e){new n(t,e,o.isFunction,!0).to.be.a("function")},o.isNotFunction=function(t,e){new n(t,e,o.isNotFunction,!0).to.not.be.a("function")},o.isObject=function(t,e){new n(t,e,o.isObject,!0).to.be.a("object")},o.isNotObject=function(t,e){new n(t,e,o.isNotObject,!0).to.not.be.a("object")},o.isArray=function(t,e){new n(t,e,o.isArray,!0).to.be.an("array")},o.isNotArray=function(t,e){new n(t,e,o.isNotArray,!0).to.not.be.an("array")},o.isString=function(t,e){new n(t,e,o.isString,!0).to.be.a("string")},o.isNotString=function(t,e){new n(t,e,o.isNotString,!0).to.not.be.a("string")},o.isNumber=function(t,e){new n(t,e,o.isNumber,!0).to.be.a("number")},o.isNotNumber=function(t,e){new n(t,e,o.isNotNumber,!0).to.not.be.a("number")},o.isFinite=function(t,e){new n(t,e,o.isFinite,!0).to.be.finite},o.isBoolean=function(t,e){new n(t,e,o.isBoolean,!0).to.be.a("boolean")},o.isNotBoolean=function(t,e){new n(t,e,o.isNotBoolean,!0).to.not.be.a("boolean")},o.typeOf=function(t,e,r){new n(t,r,o.typeOf,!0).to.be.a(e)},o.notTypeOf=function(t,e,r){new n(t,r,o.notTypeOf,!0).to.not.be.a(e)},o.instanceOf=function(t,e,r){new n(t,r,o.instanceOf,!0).to.be.instanceOf(e)},o.notInstanceOf=function(t,e,r){new n(t,r,o.notInstanceOf,!0).to.not.be.instanceOf(e)},o.include=function(t,e,r){new n(t,r,o.include,!0).include(e)},o.notInclude=function(t,e,r){new n(t,r,o.notInclude,!0).not.include(e)},o.deepInclude=function(t,e,r){new n(t,r,o.deepInclude,!0).deep.include(e)},o.notDeepInclude=function(t,e,r){new n(t,r,o.notDeepInclude,!0).not.deep.include(e)},o.nestedInclude=function(t,e,r){new n(t,r,o.nestedInclude,!0).nested.include(e)},o.notNestedInclude=function(t,e,r){new n(t,r,o.notNestedInclude,!0).not.nested.include(e)},o.deepNestedInclude=function(t,e,r){new n(t,r,o.deepNestedInclude,!0).deep.nested.include(e)},o.notDeepNestedInclude=function(t,e,r){new n(t,r,o.notDeepNestedInclude,!0).not.deep.nested.include(e)},o.ownInclude=function(t,e,r){new n(t,r,o.ownInclude,!0).own.include(e)},o.notOwnInclude=function(t,e,r){new n(t,r,o.notOwnInclude,!0).not.own.include(e)},o.deepOwnInclude=function(t,e,r){new n(t,r,o.deepOwnInclude,!0).deep.own.include(e)},o.notDeepOwnInclude=function(t,e,r){new n(t,r,o.notDeepOwnInclude,!0).not.deep.own.include(e)},o.match=function(t,e,r){new n(t,r,o.match,!0).to.match(e)},o.notMatch=function(t,e,r){new n(t,r,o.notMatch,!0).to.not.match(e)},o.property=function(t,e,r){new n(t,r,o.property,!0).to.have.property(e)},o.notProperty=function(t,e,r){new n(t,r,o.notProperty,!0).to.not.have.property(e)},o.propertyVal=function(t,e,r,i){new n(t,i,o.propertyVal,!0).to.have.property(e,r)},o.notPropertyVal=function(t,e,r,i){new n(t,i,o.notPropertyVal,!0).to.not.have.property(e,r)},o.deepPropertyVal=function(t,e,r,i){new n(t,i,o.deepPropertyVal,!0).to.have.deep.property(e,r)},o.notDeepPropertyVal=function(t,e,r,i){new n(t,i,o.notDeepPropertyVal,!0).to.not.have.deep.property(e,r)},o.ownProperty=function(t,e,r){new n(t,r,o.ownProperty,!0).to.have.own.property(e)},o.notOwnProperty=function(t,e,r){new n(t,r,o.notOwnProperty,!0).to.not.have.own.property(e)},o.ownPropertyVal=function(t,e,r,i){new n(t,i,o.ownPropertyVal,!0).to.have.own.property(e,r)},o.notOwnPropertyVal=function(t,e,r,i){new n(t,i,o.notOwnPropertyVal,!0).to.not.have.own.property(e,r)},o.deepOwnPropertyVal=function(t,e,r,i){new n(t,i,o.deepOwnPropertyVal,!0).to.have.deep.own.property(e,r)},o.notDeepOwnPropertyVal=function(t,e,r,i){new n(t,i,o.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(e,r)},o.nestedProperty=function(t,e,r){new n(t,r,o.nestedProperty,!0).to.have.nested.property(e)},o.notNestedProperty=function(t,e,r){new n(t,r,o.notNestedProperty,!0).to.not.have.nested.property(e)},o.nestedPropertyVal=function(t,e,r,i){new n(t,i,o.nestedPropertyVal,!0).to.have.nested.property(e,r)},o.notNestedPropertyVal=function(t,e,r,i){new n(t,i,o.notNestedPropertyVal,!0).to.not.have.nested.property(e,r)},o.deepNestedPropertyVal=function(t,e,r,i){new n(t,i,o.deepNestedPropertyVal,!0).to.have.deep.nested.property(e,r)},o.notDeepNestedPropertyVal=function(t,e,r,i){new n(t,i,o.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(e,r)},o.lengthOf=function(t,e,r){new n(t,r,o.lengthOf,!0).to.have.lengthOf(e)},o.hasAnyKeys=function(t,e,r){new n(t,r,o.hasAnyKeys,!0).to.have.any.keys(e)},o.hasAllKeys=function(t,e,r){new n(t,r,o.hasAllKeys,!0).to.have.all.keys(e)},o.containsAllKeys=function(t,e,r){new n(t,r,o.containsAllKeys,!0).to.contain.all.keys(e)},o.doesNotHaveAnyKeys=function(t,e,r){new n(t,r,o.doesNotHaveAnyKeys,!0).to.not.have.any.keys(e)},o.doesNotHaveAllKeys=function(t,e,r){new n(t,r,o.doesNotHaveAllKeys,!0).to.not.have.all.keys(e)},o.hasAnyDeepKeys=function(t,e,r){new n(t,r,o.hasAnyDeepKeys,!0).to.have.any.deep.keys(e)},o.hasAllDeepKeys=function(t,e,r){new n(t,r,o.hasAllDeepKeys,!0).to.have.all.deep.keys(e)},o.containsAllDeepKeys=function(t,e,r){new n(t,r,o.containsAllDeepKeys,!0).to.contain.all.deep.keys(e)},o.doesNotHaveAnyDeepKeys=function(t,e,r){new n(t,r,o.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(e)},o.doesNotHaveAllDeepKeys=function(t,e,r){new n(t,r,o.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(e)},o.throws=function(t,e,i,u){("string"==typeof e||e instanceof RegExp)&&(i=e,e=null);var a=new n(t,u,o.throws,!0).to.throw(e,i);return r(a,"object")},o.doesNotThrow=function(t,e,r,i){("string"==typeof e||e instanceof RegExp)&&(r=e,e=null),new n(t,i,o.doesNotThrow,!0).to.not.throw(e,r)},o.operator=function(i,u,a,s){var c;switch(u){case"==":c=i==a;break;case"===":c=i===a;break;case">":c=i>a;break;case">=":c=i>=a;break;case"<":c=i<a;break;case"<=":c=i<=a;break;case"!=":c=i!=a;break;case"!==":c=i!==a;break;default:throw s=s?s+": ":s,new t.AssertionError(s+'Invalid operator "'+u+'"',void 0,o.operator)}var f=new n(c,s,o.operator,!0);f.assert(!0===r(f,"object"),"expected "+e.inspect(i)+" to be "+u+" "+e.inspect(a),"expected "+e.inspect(i)+" to not be "+u+" "+e.inspect(a))},o.closeTo=function(t,e,r,i){new n(t,i,o.closeTo,!0).to.be.closeTo(e,r)},o.approximately=function(t,e,r,i){new n(t,i,o.approximately,!0).to.be.approximately(e,r)},o.sameMembers=function(t,e,r){new n(t,r,o.sameMembers,!0).to.have.same.members(e)},o.notSameMembers=function(t,e,r){new n(t,r,o.notSameMembers,!0).to.not.have.same.members(e)},o.sameDeepMembers=function(t,e,r){new n(t,r,o.sameDeepMembers,!0).to.have.same.deep.members(e)},o.notSameDeepMembers=function(t,e,r){new n(t,r,o.notSameDeepMembers,!0).to.not.have.same.deep.members(e)},o.sameOrderedMembers=function(t,e,r){new n(t,r,o.sameOrderedMembers,!0).to.have.same.ordered.members(e)},o.notSameOrderedMembers=function(t,e,r){new n(t,r,o.notSameOrderedMembers,!0).to.not.have.same.ordered.members(e)},o.sameDeepOrderedMembers=function(t,e,r){new n(t,r,o.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(e)},o.notSameDeepOrderedMembers=function(t,e,r){new n(t,r,o.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(e)},o.includeMembers=function(t,e,r){new n(t,r,o.includeMembers,!0).to.include.members(e)},o.notIncludeMembers=function(t,e,r){new n(t,r,o.notIncludeMembers,!0).to.not.include.members(e)},o.includeDeepMembers=function(t,e,r){new n(t,r,o.includeDeepMembers,!0).to.include.deep.members(e)},o.notIncludeDeepMembers=function(t,e,r){new n(t,r,o.notIncludeDeepMembers,!0).to.not.include.deep.members(e)},o.includeOrderedMembers=function(t,e,r){new n(t,r,o.includeOrderedMembers,!0).to.include.ordered.members(e)},o.notIncludeOrderedMembers=function(t,e,r){new n(t,r,o.notIncludeOrderedMembers,!0).to.not.include.ordered.members(e)},o.includeDeepOrderedMembers=function(t,e,r){new n(t,r,o.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(e)},o.notIncludeDeepOrderedMembers=function(t,e,r){new n(t,r,o.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(e)},o.oneOf=function(t,e,r){new n(t,r,o.oneOf,!0).to.be.oneOf(e)},o.changes=function(t,e,r,i){3===arguments.length&&"function"==typeof e&&(i=r,r=null),new n(t,i,o.changes,!0).to.change(e,r)},o.changesBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);new n(t,u,o.changesBy,!0).to.change(e,r).by(i)},o.doesNotChange=function(t,e,r,i){return 3===arguments.length&&"function"==typeof e&&(i=r,r=null),new n(t,i,o.doesNotChange,!0).to.not.change(e,r)},o.changesButNotBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);new n(t,u,o.changesButNotBy,!0).to.change(e,r).but.not.by(i)},o.increases=function(t,e,r,i){return 3===arguments.length&&"function"==typeof e&&(i=r,r=null),new n(t,i,o.increases,!0).to.increase(e,r)},o.increasesBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);new n(t,u,o.increasesBy,!0).to.increase(e,r).by(i)},o.doesNotIncrease=function(t,e,r,i){return 3===arguments.length&&"function"==typeof e&&(i=r,r=null),new n(t,i,o.doesNotIncrease,!0).to.not.increase(e,r)},o.increasesButNotBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);new n(t,u,o.increasesButNotBy,!0).to.increase(e,r).but.not.by(i)},o.decreases=function(t,e,r,i){return 3===arguments.length&&"function"==typeof e&&(i=r,r=null),new n(t,i,o.decreases,!0).to.decrease(e,r)},o.decreasesBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);new n(t,u,o.decreasesBy,!0).to.decrease(e,r).by(i)},o.doesNotDecrease=function(t,e,r,i){return 3===arguments.length&&"function"==typeof e&&(i=r,r=null),new n(t,i,o.doesNotDecrease,!0).to.not.decrease(e,r)},o.doesNotDecreaseBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);return new n(t,u,o.doesNotDecreaseBy,!0).to.not.decrease(e,r).by(i)},o.decreasesButNotBy=function(t,e,r,i,u){if(4===arguments.length&&"function"==typeof e){var a=i;i=r,u=a}else 3===arguments.length&&(i=r,r=null);new n(t,u,o.decreasesButNotBy,!0).to.decrease(e,r).but.not.by(i)}
/*!
   * ### .ifError(object)
   *
   * Asserts if value is not a false value, and throws if it is a true value.
   * This is added to allow for chai to be a drop-in replacement for Node's
   * assert class.
   *
   *     var err = new Error('I am a custom error');
   *     assert.ifError(err); // Rethrows err!
   *
   * @name ifError
   * @param {Object} object
   * @namespace Assert
   * @api public
   */,o.ifError=function(t){if(t)throw t},o.isExtensible=function(t,e){new n(t,e,o.isExtensible,!0).to.be.extensible},o.isNotExtensible=function(t,e){new n(t,e,o.isNotExtensible,!0).to.not.be.extensible},o.isSealed=function(t,e){new n(t,e,o.isSealed,!0).to.be.sealed},o.isNotSealed=function(t,e){new n(t,e,o.isNotSealed,!0).to.not.be.sealed},o.isFrozen=function(t,e){new n(t,e,o.isFrozen,!0).to.be.frozen},o.isNotFrozen=function(t,e){new n(t,e,o.isNotFrozen,!0).to.not.be.frozen},o.isEmpty=function(t,e){new n(t,e,o.isEmpty,!0).to.be.empty},o.isNotEmpty=function(t,e){new n(t,e,o.isNotEmpty,!0).to.not.be.empty},
/*!
   * Aliases.
   */
function t(e,n){return o[n]=o[e],t}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")}},function(t,e){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e){var n=t.Assertion;function r(){Object.defineProperty(Object.prototype,"should",{set:function(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})},get:function t(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol?new n(this.valueOf(),null,t):new n(this,null,t)},configurable:!0});var e={fail:function(n,r,o,i){throw o=o||"should.fail()",new t.AssertionError(o,{actual:n,expected:r,operator:i},e.fail)},equal:function(t,e,r){new n(t,r).to.equal(e)},Throw:function(t,e,r,o){new n(t,o).to.Throw(e,r)},exist:function(t,e){new n(t,e).to.exist},not:{}};return e.not.equal=function(t,e,r){new n(t,r).to.not.equal(e)},e.not.Throw=function(t,e,r,o){new n(t,o).to.not.Throw(e,r)},e.not.exist=function(t,e){new n(t,e).to.not.exist},e.throw=e.Throw,e.not.throw=e.not.Throw,e}t.should=r,t.Should=r}},function(t,e){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e){t.expect=function(e,n){return new t.Assertion(e,n)},t.expect.fail=function(e,n,r,o){throw r=r||"expect.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:o},t.expect.fail)}}},function(t,e){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t,e){var n=t.Assertion,r=t.AssertionError,o=e.flag;function i(t,n){n&&o(this,"message",n),t=t.toLowerCase();var r=o(this,"object"),i=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r).toLowerCase(),"expected #{this} to be "+i+t,"expected #{this} not to be "+i+t)}function u(t,n){return e.isNaN(t)&&e.isNaN(n)||t===n}function a(){o(this,"contains",!0)}function s(t,i){i&&o(this,"message",i);var a=o(this,"object"),s=e.type(a).toLowerCase(),c=o(this,"message"),f=o(this,"negate"),l=o(this,"ssfi"),h=o(this,"deep"),p=h?"deep ":"";c=c?c+": ":"";var d=!1;switch(s){case"string":d=-1!==a.indexOf(t);break;case"weakset":if(h)throw new r(c+"unable to use .deep.include with WeakSet",void 0,l);d=a.has(t);break;case"map":var g=h?e.eql:u;a.forEach(function(e){d=d||g(e,t)});break;case"set":h?a.forEach(function(n){d=d||e.eql(n,t)}):d=a.has(t);break;case"array":d=h?a.some(function(n){return e.eql(n,t)}):-1!==a.indexOf(t);break;default:if(t!==Object(t))throw new r(c+"object tested must be an array, a map, an object, a set, a string, or a weakset, but "+s+" given",void 0,l);var m=Object.keys(t),y=null,v=0;if(m.forEach(function(i){var u=new n(a);if(e.transferFlags(this,u,!0),o(u,"lockSsfi",!0),f&&1!==m.length)try{u.property(i,t[i])}catch(t){if(!e.checkError.compatibleConstructor(t,r))throw t;null===y&&(y=t),v++}else u.property(i,t[i])},this),f&&m.length>1&&v===m.length)throw y;return}this.assert(d,"expected #{this} to "+p+"include "+e.inspect(t),"expected #{this} to not "+p+"include "+e.inspect(t))}function c(){var t=o(this,"object"),n=e.type(t);this.assert("Arguments"===n,"expected #{this} to be arguments but got "+n,"expected #{this} to not be arguments")}function f(t,e){e&&o(this,"message",e);var n=o(this,"object");if(o(this,"deep"))return this.eql(t);this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function l(t,n){n&&o(this,"message",n),this.assert(e.eql(t,o(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function h(t,i){i&&o(this,"message",i);var u=o(this,"object"),a=o(this,"doLength"),s=o(this,"message"),c=s?s+": ":"",f=o(this,"ssfi"),l=e.type(u).toLowerCase(),h=e.type(t).toLowerCase(),p=!0;if(a&&new n(u,s,f,!0).to.have.property("length"),a||"date"!==l||"date"===h)if("number"===h||!a&&"number"!==l)if(a||"date"===l||"number"===l)p=!1;else{errorMessage=c+"expected "+("string"===l?"'"+u+"'":u)+" to be a number or a date"}else errorMessage=c+"the argument to above must be a number";else errorMessage=c+"the argument to above must be a date";if(p)throw new r(errorMessage,void 0,f);if(a){var d=u.length;this.assert(d>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,d)}else this.assert(u>t,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",t)}function p(t,i){i&&o(this,"message",i);var u=o(this,"object"),a=o(this,"doLength"),s=o(this,"message"),c=s?s+": ":"",f=o(this,"ssfi"),l=e.type(u).toLowerCase(),h=e.type(t).toLowerCase(),p=!0;if(a&&new n(u,s,f,!0).to.have.property("length"),a||"date"!==l||"date"===h)if("number"===h||!a&&"number"!==l)if(a||"date"===l||"number"===l)p=!1;else{errorMessage=c+"expected "+("string"===l?"'"+u+"'":u)+" to be a number or a date"}else errorMessage=c+"the argument to least must be a number";else errorMessage=c+"the argument to least must be a date";if(p)throw new r(errorMessage,void 0,f);if(a){var d=u.length;this.assert(d>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,d)}else this.assert(u>=t,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",t)}function d(t,i){i&&o(this,"message",i);var u=o(this,"object"),a=o(this,"doLength"),s=o(this,"message"),c=s?s+": ":"",f=o(this,"ssfi"),l=e.type(u).toLowerCase(),h=e.type(t).toLowerCase(),p=!0;if(a&&new n(u,s,f,!0).to.have.property("length"),a||"date"!==l||"date"===h)if("number"===h||!a&&"number"!==l)if(a||"date"===l||"number"===l)p=!1;else{errorMessage=c+"expected "+("string"===l?"'"+u+"'":u)+" to be a number or a date"}else errorMessage=c+"the argument to below must be a number";else errorMessage=c+"the argument to below must be a date";if(p)throw new r(errorMessage,void 0,f);if(a){var d=u.length;this.assert(d<t,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,d)}else this.assert(u<t,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",t)}function g(t,i){i&&o(this,"message",i);var u=o(this,"object"),a=o(this,"doLength"),s=o(this,"message"),c=s?s+": ":"",f=o(this,"ssfi"),l=e.type(u).toLowerCase(),h=e.type(t).toLowerCase(),p=!0;if(a&&new n(u,s,f,!0).to.have.property("length"),a||"date"!==l||"date"===h)if("number"===h||!a&&"number"!==l)if(a||"date"===l||"number"===l)p=!1;else{errorMessage=c+"expected "+("string"===l?"'"+u+"'":u)+" to be a number or a date"}else errorMessage=c+"the argument to most must be a number";else errorMessage=c+"the argument to most must be a date";if(p)throw new r(errorMessage,void 0,f);if(a){var d=u.length;this.assert(d<=t,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,d)}else this.assert(u<=t,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",t)}function m(t,n){n&&o(this,"message",n);var i=o(this,"object"),u=o(this,"ssfi"),a=o(this,"message");try{var s=i instanceof t}catch(n){if(n instanceof TypeError)throw new r((a=a?a+": ":"")+"The instanceof assertion needs a constructor but "+e.type(t)+" was given.",void 0,u);throw n}var c=e.getName(t);null===c&&(c="an unnamed constructor"),this.assert(s,"expected #{this} to be an instance of "+c,"expected #{this} to not be an instance of "+c)}function y(t,n,i){i&&o(this,"message",i);var u=o(this,"nested"),a=o(this,"own"),s=o(this,"message"),c=o(this,"object"),f=o(this,"ssfi");if(u&&a)throw new r((s=s?s+": ":"")+'The "nested" and "own" flags cannot be combined.',void 0,f);if(null===c||void 0===c)throw new r((s=s?s+": ":"")+"Target cannot be null or undefined.",void 0,f);var l,h=o(this,"deep"),p=o(this,"negate"),d=u?e.getPathInfo(c,t):null,g=u?d.value:c[t],m="";h&&(m+="deep "),a&&(m+="own "),u&&(m+="nested "),m+="property ",l=a?Object.prototype.hasOwnProperty.call(c,t):u?d.exists:e.hasProperty(c,t),p&&1!==arguments.length||this.assert(l,"expected #{this} to have "+m+e.inspect(t),"expected #{this} to not have "+m+e.inspect(t)),arguments.length>1&&this.assert(l&&(h?e.eql(n,g):n===g),"expected #{this} to have "+m+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have "+m+e.inspect(t)+" of #{act}",n,g),o(this,"object",g)}function v(t,e,n){o(this,"own",!0),y.apply(this,arguments)}function _(t,n,r){"string"==typeof n&&(r=n,n=null),r&&o(this,"message",r);var i=o(this,"object"),u=Object.getOwnPropertyDescriptor(Object(i),t);u&&n?this.assert(e.eql(n,u),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(n)+", got "+e.inspect(u),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(n),n,u,!0):this.assert(u,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),o(this,"object",u)}function b(){o(this,"doLength",!0)}function w(t,e){e&&o(this,"message",e);var r=o(this,"object"),i=o(this,"message"),u=o(this,"ssfi");new n(r,i,u,!0).to.have.property("length");var a=r.length;this.assert(a==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,a)}function S(t,e){e&&o(this,"message",e);var n=o(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function M(t){var n,i=o(this,"object"),u=e.type(i),a=e.type(t),s=o(this,"ssfi"),c=o(this,"deep"),f="",l=!0,h=o(this,"message"),p=(h=h?h+": ":"")+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===u||"Set"===u)f=c?"deeply ":"",d=[],i.forEach(function(t,e){d.push(e)}),"Array"!==a&&(t=Array.prototype.slice.call(arguments));else{switch(d=e.getOwnEnumerableProperties(i),a){case"Array":if(arguments.length>1)throw new r(p,void 0,s);break;case"Object":if(arguments.length>1)throw new r(p,void 0,s);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}t=t.map(function(t){return"symbol"==typeof t?t:String(t)})}if(!t.length)throw new r(h+"keys required",void 0,s);var d,g=t.length,m=o(this,"any"),y=o(this,"all"),v=t;if(m||y||(y=!0),m&&(l=v.some(function(t){return d.some(function(n){return c?e.eql(t,n):t===n})})),y&&(l=v.every(function(t){return d.some(function(n){return c?e.eql(t,n):t===n})}),o(this,"contains")||(l=l&&t.length==d.length)),g>1){var _=(t=t.map(function(t){return e.inspect(t)})).pop();y&&(n=t.join(", ")+", and "+_),m&&(n=t.join(", ")+", or "+_)}else n=e.inspect(t[0]);n=(g>1?"keys ":"key ")+n,n=(o(this,"contains")?"contain ":"have ")+n,this.assert(l,"expected #{this} to "+f+n,"expected #{this} to not "+f+n,v.slice(0).sort(e.compareByInspect),d.sort(e.compareByInspect),!0)}function x(t,r,i){i&&o(this,"message",i);var u,a=o(this,"object"),s=o(this,"ssfi"),c=o(this,"message"),f=o(this,"negate")||!1;new n(a,c,s,!0).is.a("function"),(t instanceof RegExp||"string"==typeof t)&&(r=t,t=null);try{a()}catch(t){u=t}var l=void 0===t&&void 0===r,h=Boolean(t&&r),p=!1,d=!1;if(l||!l&&!f){var g="an error";t instanceof Error?g="#{exp}":t&&(g=e.checkError.getConstructorName(t)),this.assert(u,"expected #{this} to throw "+g,"expected #{this} to not throw an error but #{act} was thrown",t&&t.toString(),u instanceof Error?u.toString():"string"==typeof u?u:u&&e.checkError.getConstructorName(u))}if(t&&u){if(t instanceof Error)e.checkError.compatibleInstance(u,t)===f&&(h&&f?p=!0:this.assert(f,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(u&&!f?" but #{act} was thrown":""),t.toString(),u.toString()));e.checkError.compatibleConstructor(u,t)===f&&(h&&f?p=!0:this.assert(f,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(u?" but #{act} was thrown":""),t instanceof Error?t.toString():t&&e.checkError.getConstructorName(t),u instanceof Error?u.toString():u&&e.checkError.getConstructorName(u)))}if(u&&void 0!==r&&null!==r){var m="including";r instanceof RegExp&&(m="matching"),e.checkError.compatibleMessage(u,r)===f&&(h&&f?d=!0:this.assert(f,"expected #{this} to throw error "+m+" #{exp} but got #{act}","expected #{this} to throw error not "+m+" #{exp}",r,e.checkError.getMessage(u)))}p&&d&&this.assert(f,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(u?" but #{act} was thrown":""),t instanceof Error?t.toString():t&&e.checkError.getConstructorName(t),u instanceof Error?u.toString():u&&e.checkError.getConstructorName(u)),o(this,"object",u)}function O(t,n){n&&o(this,"message",n);var r=o(this,"object"),i=o(this,"itself"),u="function"!=typeof r||i?r[t]:r.prototype[t];this.assert("function"==typeof u,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function J(t,n){n&&o(this,"message",n);var r=t(o(this,"object"));this.assert(r,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),!o(this,"negate"),r)}function z(t,e,i){i&&o(this,"message",i);var u=o(this,"object"),a=o(this,"message"),s=o(this,"ssfi");if(new n(u,a,s,!0).is.a("number"),"number"!=typeof t||"number"!=typeof e)throw new r((a=a?a+": ":"")+"the arguments to closeTo or approximately must be numbers",void 0,s);this.assert(Math.abs(u-t)<=e,"expected #{this} to be close to "+t+" +/- "+e,"expected #{this} not to be close to "+t+" +/- "+e)}function I(t,e,r){r&&o(this,"message",r);var i,u=o(this,"object"),a=o(this,"message"),s=o(this,"ssfi");new n(u,a,s,!0).is.a("function"),e?(new n(t,a,s,!0).to.have.property(e),i=t[e]):(new n(t,a,s,!0).is.a("function"),i=t()),u();var c=void 0===e||null===e?t():t[e],f=void 0===e||null===e?i:"."+e;o(this,"deltaMsgObj",f),o(this,"initialDeltaValue",i),o(this,"finalDeltaValue",c),o(this,"deltaBehavior","change"),o(this,"realDelta",c!==i),this.assert(i!==c,"expected "+f+" to change","expected "+f+" to not change")}function L(t,e,r){r&&o(this,"message",r);var i,u=o(this,"object"),a=o(this,"message"),s=o(this,"ssfi");new n(u,a,s,!0).is.a("function"),e?(new n(t,a,s,!0).to.have.property(e),i=t[e]):(new n(t,a,s,!0).is.a("function"),i=t()),new n(i,a,s,!0).is.a("number"),u();var c=void 0===e||null===e?t():t[e],f=void 0===e||null===e?i:"."+e;o(this,"deltaMsgObj",f),o(this,"initialDeltaValue",i),o(this,"finalDeltaValue",c),o(this,"deltaBehavior","increase"),o(this,"realDelta",c-i),this.assert(c-i>0,"expected "+f+" to increase","expected "+f+" to not increase")}function j(t,e,r){r&&o(this,"message",r);var i,u=o(this,"object"),a=o(this,"message"),s=o(this,"ssfi");new n(u,a,s,!0).is.a("function"),e?(new n(t,a,s,!0).to.have.property(e),i=t[e]):(new n(t,a,s,!0).is.a("function"),i=t()),new n(i,a,s,!0).is.a("number"),u();var c=void 0===e||null===e?t():t[e],f=void 0===e||null===e?i:"."+e;o(this,"deltaMsgObj",f),o(this,"initialDeltaValue",i),o(this,"finalDeltaValue",c),o(this,"deltaBehavior","decrease"),o(this,"realDelta",i-c),this.assert(c-i<0,"expected "+f+" to decrease","expected "+f+" to not decrease")}["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does"].forEach(function(t){n.addProperty(t)}),n.addProperty("not",function(){o(this,"negate",!0)}),n.addProperty("deep",function(){o(this,"deep",!0)}),n.addProperty("nested",function(){o(this,"nested",!0)}),n.addProperty("own",function(){o(this,"own",!0)}),n.addProperty("ordered",function(){o(this,"ordered",!0)}),n.addProperty("any",function(){o(this,"any",!0),o(this,"all",!1)}),n.addProperty("all",function(){o(this,"all",!0),o(this,"any",!1)}),n.addChainableMethod("an",i),n.addChainableMethod("a",i),n.addChainableMethod("include",s,a),n.addChainableMethod("contain",s,a),n.addChainableMethod("contains",s,a),n.addChainableMethod("includes",s,a),n.addProperty("ok",function(){this.assert(o(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),n.addProperty("true",function(){this.assert(!0===o(this,"object"),"expected #{this} to be true","expected #{this} to be false",!o(this,"negate"))}),n.addProperty("false",function(){this.assert(!1===o(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!o(this,"negate"))}),n.addProperty("null",function(){this.assert(null===o(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),n.addProperty("undefined",function(){this.assert(void 0===o(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),n.addProperty("NaN",function(){this.assert(e.isNaN(o(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),n.addProperty("exist",function(){var t=o(this,"object");this.assert(null!==t&&void 0!==t,"expected #{this} to exist","expected #{this} to not exist")}),n.addProperty("empty",function(){var t,n=o(this,"object"),i=o(this,"ssfi"),u=o(this,"message");switch(u=u?u+": ":"",e.type(n).toLowerCase()){case"array":case"string":t=n.length;break;case"map":case"set":t=n.size;break;case"weakmap":case"weakset":throw new r(u+".empty was passed a weak collection",void 0,i);case"function":var a=u+".empty was passed a function "+e.getName(n);throw new r(a.trim(),void 0,i);default:if(n!==Object(n))throw new r(u+".empty was passed non-string primitive "+e.inspect(n),void 0,i);t=Object.keys(n).length}this.assert(0===t,"expected #{this} to be empty","expected #{this} not to be empty")}),n.addProperty("arguments",c),n.addProperty("Arguments",c),n.addMethod("equal",f),n.addMethod("equals",f),n.addMethod("eq",f),n.addMethod("eql",l),n.addMethod("eqls",l),n.addMethod("above",h),n.addMethod("gt",h),n.addMethod("greaterThan",h),n.addMethod("least",p),n.addMethod("gte",p),n.addMethod("below",d),n.addMethod("lt",d),n.addMethod("lessThan",d),n.addMethod("most",g),n.addMethod("lte",g),n.addMethod("within",function(t,i,u){u&&o(this,"message",u);var a=o(this,"object"),s=o(this,"doLength"),c=o(this,"message"),f=c?c+": ":"",l=o(this,"ssfi"),h=e.type(a).toLowerCase(),p=e.type(t).toLowerCase(),d=e.type(i).toLowerCase(),g=!0,m="date"===p&&"date"===d?t.toUTCString()+".."+i.toUTCString():t+".."+i;if(s&&new n(a,c,l,!0).to.have.property("length"),s||"date"!==h||"date"===p&&"date"===d)if("number"===p&&"number"===d||!s&&"number"!==h)if(s||"date"===h||"number"===h)g=!1;else{errorMessage=f+"expected "+("string"===h?"'"+a+"'":a)+" to be a number or a date"}else errorMessage=f+"the arguments to within must be numbers";else errorMessage=f+"the arguments to within must be dates";if(g)throw new r(errorMessage,void 0,l);if(s){var y=a.length;this.assert(y>=t&&y<=i,"expected #{this} to have a length within "+m,"expected #{this} to not have a length within "+m)}else this.assert(a>=t&&a<=i,"expected #{this} to be within "+m,"expected #{this} to not be within "+m)}),n.addMethod("instanceof",m),n.addMethod("instanceOf",m),n.addMethod("property",y),n.addMethod("ownProperty",v),n.addMethod("haveOwnProperty",v),n.addMethod("ownPropertyDescriptor",_),n.addMethod("haveOwnPropertyDescriptor",_),n.addChainableMethod("length",w,b),n.addChainableMethod("lengthOf",w,b),n.addMethod("match",S),n.addMethod("matches",S),n.addMethod("string",function(t,r){r&&o(this,"message",r);var i=o(this,"object"),u=o(this,"message"),a=o(this,"ssfi");new n(i,u,a,!0).is.a("string"),this.assert(~i.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),n.addMethod("keys",M),n.addMethod("key",M),n.addMethod("throw",x),n.addMethod("throws",x),n.addMethod("Throw",x),n.addMethod("respondTo",O),n.addMethod("respondsTo",O),n.addProperty("itself",function(){o(this,"itself",!0)}),n.addMethod("satisfy",J),n.addMethod("satisfies",J),n.addMethod("closeTo",z),n.addMethod("approximately",z),n.addMethod("members",function(t,r){r&&o(this,"message",r);var i=o(this,"object"),u=o(this,"message"),a=o(this,"ssfi");new n(i,u,a,!0).to.be.an("array"),new n(t,u,a,!0).to.be.an("array");var s,c,f,l=o(this,"contains"),h=o(this,"ordered");l?(c="expected #{this} to be "+(s=h?"an ordered superset":"a superset")+" of #{exp}",f="expected #{this} to not be "+s+" of #{exp}"):(c="expected #{this} to have the same "+(s=h?"ordered members":"members")+" as #{exp}",f="expected #{this} to not have the same "+s+" as #{exp}");var p=o(this,"deep")?e.eql:void 0;this.assert(function(t,e,n,r,o){if(!r){if(t.length!==e.length)return!1;e=e.slice()}return t.every(function(t,i){if(o)return n?n(t,e[i]):t===e[i];if(!n){var u=e.indexOf(t);return-1!==u&&(r||e.splice(u,1),!0)}return e.some(function(o,i){return!!n(t,o)&&(r||e.splice(i,1),!0)})})}(t,i,p,l,h),c,f,t,i,!0)}),n.addMethod("oneOf",function(t,e){e&&o(this,"message",e);var r=o(this,"object"),i=o(this,"message"),u=o(this,"ssfi");new n(t,i,u,!0).to.be.an("array"),this.assert(t.indexOf(r)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,r)}),n.addMethod("change",I),n.addMethod("changes",I),n.addMethod("increase",L),n.addMethod("increases",L),n.addMethod("decrease",j),n.addMethod("decreases",j),n.addMethod("by",function(t,e){e&&o(this,"message",e);var n,r=o(this,"deltaMsgObj"),i=o(this,"initialDeltaValue"),u=o(this,"finalDeltaValue"),a=o(this,"deltaBehavior"),s=o(this,"realDelta");n="change"===a?Math.abs(u-i)===Math.abs(t):s===Math.abs(t),this.assert(n,"expected "+r+" to "+a+" by "+t,"expected "+r+" to not "+a+" by "+t)}),n.addProperty("extensible",function(){var t=o(this,"object"),e=t===Object(t)&&Object.isExtensible(t);this.assert(e,"expected #{this} to be extensible","expected #{this} to not be extensible")}),n.addProperty("sealed",function(){var t=o(this,"object"),e=t!==Object(t)||Object.isSealed(t);this.assert(e,"expected #{this} to be sealed","expected #{this} to not be sealed")}),n.addProperty("frozen",function(){var t=o(this,"object"),e=t!==Object(t)||Object.isFrozen(t);this.assert(e,"expected #{this} to be frozen","expected #{this} to not be frozen")}),n.addProperty("finite",function(t){var e=o(this,"object");this.assert("number"==typeof e&&isFinite(e),"expected #{this} to be a finite number","expected #{this} to not be a finite number")})}},function(t,e,n){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(4);t.exports=function(t,e){
/*!
   * Module dependencies.
   */
var n=t.AssertionError,o=e.flag;
/*!
   * Module export.
   */
/*!
   * Assertion Constructor
   *
   * Creates object for chaining.
   *
   * `Assertion` objects contain metadata in the form of flags. Three flags can
   * be assigned during instantiation by passing arguments to this constructor:
   *
   * - `object`: This flag contains the target of the assertion. For example, in
   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will
   *   contain `numKittens` so that the `equal` assertion can reference it when
   *   needed.
   *
   * - `message`: This flag contains an optional custom error message to be
   *   prepended to the error message that's generated by the assertion when it
   *   fails.
   *
   * - `ssfi`: This flag stands for "start stack function indicator". It
   *   contains a function reference that serves as the starting point for
   *   removing frames from the stack trace of the error that's created by the
   *   assertion when it fails. The goal is to provide a cleaner stack trace to
   *   end users by removing Chai's internal functions. Note that it only works
   *   in environments that support `Error.captureStackTrace`, and only when
   *   `Chai.config.includeStack` hasn't been set to `false`.
   *
   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag
   *   should retain its current value, even as assertions are chained off of
   *   this object. This is usually set to `true` when creating a new assertion
   *   from within another assertion. It's also temporarily set to `true` before
   *   an overwritten assertion gets called by the overwriting assertion.
   *
   * @param {Mixed} obj target of the assertion
   * @param {String} msg (optional) custom error message
   * @param {Function} ssfi (optional) starting point for removing stack frames
   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked
   * @api private
   */
function i(t,n,r,u){return o(this,"ssfi",r||i),o(this,"lockSsfi",u),o(this,"object",t),o(this,"message",n),e.proxify(this)}t.Assertion=i,Object.defineProperty(i,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=t}}),Object.defineProperty(i,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=t}}),i.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},i.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},i.addChainableMethod=function(t,n,r){e.addChainableMethod(this.prototype,t,n,r)},i.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},i.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},i.overwriteChainableMethod=function(t,n,r){e.overwriteChainableMethod(this.prototype,t,n,r)},i.prototype.assert=function(t,i,u,a,s,c){var f=e.test(this,arguments);if(!1!==c&&(c=!0),void 0===a&&void 0===s&&(c=!1),!0!==r.showDiff&&(c=!1),!f){i=e.getMessage(this,arguments);var l=e.getActual(this,arguments);throw new n(i,{actual:l,expected:a,showDiff:c},r.includeStack?this.assert:o(this,"ssfi"))}},
/*!
   * ### ._obj
   *
   * Quick reference to stored `actual` value for plugin developers.
   *
   * @api private
   */
Object.defineProperty(i.prototype,"_obj",{get:function(){return o(this,"object")},set:function(t){o(this,"object",t)}})}},function(t,e){t.exports=Number.isNaN||
/*!
 * Chai - isNaN utility
 * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
 * MIT Licensed
 */
function(t){return t!=t}},function(t,e,n){"use strict";var r=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;function o(t){var e="";if(void 0===t.name){var n=String(t).match(r);n&&(e=n[1])}else e=t.name;return e}t.exports={compatibleInstance:function(t,e){return e instanceof Error&&t===e},compatibleConstructor:function(t,e){return e instanceof Error?t.constructor===e.constructor||t instanceof e.constructor:(e.prototype instanceof Error||e===Error)&&(t.constructor===e||t instanceof e)},compatibleMessage:function(t,e){var n="string"==typeof t?t:t.message;return e instanceof RegExp?e.test(n):"string"==typeof e&&-1!==n.indexOf(e)},getMessage:function(t){var e="";return t&&t.message?e=t.message:"string"==typeof t&&(e=t),e},getConstructorName:function(t){var e=t;return t instanceof Error?e=o(t.constructor):"function"==typeof t&&(e=o(t).trim()||o(new t)),e}}},function(t,e,n){
/*!
 * Chai - getOwnEnumerableProperties utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var r=n(33);t.exports=function(t){return Object.keys(t).concat(r(t))}},function(t,e,n){
/*!
 * Chai - compareByInspect utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var r=n(12);t.exports=function(t,e){return r(t)<r(e)?-1:1}},function(t,e,n){
/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(5),o=n(3);t.exports=function(t,e,n,i){var u=t.__methods[e],a=u.chainingBehavior;u.chainingBehavior=function(){var t=i(a).call(this);if(void 0!==t)return t;var e=new r.Assertion;return o(this,e),e};var s=u.method;u.method=function(){var t=n(s).apply(this,arguments);if(void 0!==t)return t;var e=new r.Assertion;return o(this,e),e}}},function(t,e,n){
/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(10),o=n(5),i=n(1),u=n(9),a=n(3),s="function"==typeof Object.setPrototypeOf,c=function(){},f=Object.getOwnPropertyNames(c).filter(function(t){var e=Object.getOwnPropertyDescriptor(c,t);return"object"!=typeof e||!e.configurable}),l=Function.prototype.call,h=Function.prototype.apply;t.exports=function(t,e,n,c){"function"!=typeof c&&(c=function(){});var p={method:n,chainingBehavior:c};t.__methods||(t.__methods={}),t.__methods[e]=p,Object.defineProperty(t,e,{get:function(){p.chainingBehavior.call(this);var n=function(){i(this,"lockSsfi")||i(this,"ssfi",n);var t=p.method.apply(this,arguments);if(void 0!==t)return t;var e=new o.Assertion;return a(this,e),e};if(r(n,e,!0),s){var c=Object.create(this);c.call=l,c.apply=h,Object.setPrototypeOf(n,c)}else{Object.getOwnPropertyNames(t).forEach(function(e){if(-1===f.indexOf(e)){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r)}})}return a(this,n),u(n)},configurable:!0})}},function(t,e,n){
/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(10),o=n(5),i=n(1),u=n(9),a=n(3);t.exports=function(t,e,n){var s=t[e],c=function(){throw new Error(e+" is not a function")};s&&"function"==typeof s&&(c=s);var f=function(){i(this,"lockSsfi")||i(this,"ssfi",f);var t=i(this,"lockSsfi");i(this,"lockSsfi",!0);var e=n(c).apply(this,arguments);if(i(this,"lockSsfi",t),void 0!==e)return e;var r=new o.Assertion;return a(this,r),r};r(f,e,!1),t[e]=u(f,e)}},function(t,e,n){
/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(5),o=n(1),i=n(11),u=n(3);t.exports=function(t,e,n){var a=Object.getOwnPropertyDescriptor(t,e),s=function(){};a&&"function"==typeof a.get&&(s=a.get),Object.defineProperty(t,e,{get:function t(){i()||o(this,"lockSsfi")||o(this,"ssfi",t);var e=o(this,"lockSsfi");o(this,"lockSsfi",!0);var a=n(s).call(this);if(o(this,"lockSsfi",e),void 0!==a)return a;var c=new r.Assertion;return u(this,c),c},configurable:!0})}},function(t,e,n){
/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(10),o=n(5),i=n(1),u=n(9),a=n(3);t.exports=function(t,e,n){var s=function(){i(this,"lockSsfi")||i(this,"ssfi",s);var t=n.apply(this,arguments);if(void 0!==t)return t;var e=new o.Assertion;return a(this,e),e};r(s,e,!1),t[e]=u(s,e)}},function(t,e,n){
/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(5),o=n(1),i=n(11),u=n(3);t.exports=function(t,e,n){n=void 0===n?function(){}:n,Object.defineProperty(t,e,{get:function t(){i()||o(this,"lockSsfi")||o(this,"ssfi",t);var e=n.call(this);if(void 0!==e)return e;var a=new r.Assertion;return u(this,a),a},configurable:!0})}},function(t,e,n){"use strict";
/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var r=n(21);function o(){this._key="chai/deep-eql__"+Math.random()+Date.now()}o.prototype={get:function(t){return t[this._key]},set:function(t,e){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:e,configurable:!0})}};var i="function"==typeof WeakMap?WeakMap:o;
/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function u(t,e,n){if(!n||m(t)||m(e))return null;var r=n.get(t);if(r){var o=r.get(e);if("boolean"==typeof o)return o}return null}
/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function a(t,e,n,r){if(n&&!m(t)&&!m(e)){var o=n.get(t);o?o.set(e,r):((o=new i).set(e,r),n.set(t,o))}}
/*!
 * Primary Export
 */function s(t,e,n){if(n&&n.comparator)return f(t,e,n);var r=c(t,e);return null!==r?r:f(t,e,n)}function c(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e||!m(t)&&!m(e)&&null}
/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function f(t,e,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new i);var o=n&&n.comparator,f=u(t,e,n.memoize);if(null!==f)return f;var m=u(e,t,n.memoize);if(null!==m)return m;if(o){var y=o(t,e);if(!1===y||!0===y)return a(t,e,n.memoize,y),y;var v=c(t,e);if(null!==v)return v}var _=r(t);if(_!==r(e))return a(t,e,n.memoize,!1),!1;a(t,e,n.memoize,!0);var b=function(t,e,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return s(t.valueOf(),e.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return t===e;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return h(t,e,r);case"RegExp":
/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */
return function(t,e){return t.toString()===e.toString()}
/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */(t,e);case"Generator":
/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
return function(t,e,n){return h(d(t),d(e),n)}
/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */(t,e,r);case"DataView":return h(new Uint8Array(t.buffer),new Uint8Array(e.buffer),r);case"ArrayBuffer":return h(new Uint8Array(t),new Uint8Array(e),r);case"Set":case"Map":return l(t,e,r);default:
/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
return function(t,e,n){var r=g(t),o=g(e);if(r.length&&r.length===o.length)return r.sort(),o.sort(),!1!==h(r,o)&&
/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
function(t,e,n,r){var o=n.length;if(0===o)return!0;for(var i=0;i<o;i+=1)if(!1===s(t[n[i]],e[n[i]],r))return!1;return!0}(t,e,r,n);var i=p(t),u=p(e);if(i.length&&i.length===u.length)return i.sort(),u.sort(),h(i,u,n);if(0===r.length&&0===i.length&&0===o.length&&0===u.length)return!0;return!1}
/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */(t,e,r)}}(t,e,_,n);return a(t,e,n.memoize,b),b}function l(t,e,n){if(t.size!==e.size)return!1;if(0===t.size)return!0;var r=[],o=[];return t.forEach(function(t,e){r.push([t,e])}),e.forEach(function(t,e){o.push([t,e])}),h(r.sort(),o.sort(),n)}
/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function h(t,e,n){var r=t.length;if(r!==e.length)return!1;if(0===r)return!0;for(var o=-1;++o<r;)if(!1===s(t[o],e[o],n))return!1;return!0}
/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */
function p(t){if(function(t){return"undefined"!=typeof Symbol&&"object"==typeof t&&void 0!==Symbol.iterator&&"function"==typeof t[Symbol.iterator]}(t))try{return d(t[Symbol.iterator]())}catch(t){return[]}return[]}
/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function d(t){for(var e=t.next(),n=[e.value];!1===e.done;)e=t.next(),n.push(e.value);return n}
/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function g(t){var e=[];for(var n in t)e.push(n);return e}function m(t){return null===t||"object"!=typeof t}t.exports=s,t.exports.MemoizeMap=i},function(t,e){
/*!
 * Chai - getEnumerableProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},function(t,e,n){
/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var r=n(1),o=n(37),i=(n(12),n(34));t.exports=function(t,e){var n=r(t,"negate"),u=r(t,"object"),a=e[3],s=o(t,e),c=n?e[2]:e[1],f=r(t,"message");return"function"==typeof c&&(c=c()),c=(c=c||"").replace(/#\{this\}/g,function(){return i(u)}).replace(/#\{act\}/g,function(){return i(s)}).replace(/#\{exp\}/g,function(){return i(a)}),f?f+": "+c:c}},function(t,e,n){
/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(38),o=n(1),i=n(21);t.exports=function(t,e){var n=o(t,"message"),u=o(t,"ssfi");n=n?n+": ":"",t=o(t,"object"),(e=e.map(function(t){return t.toLowerCase()})).sort();var a=e.map(function(t,n){var r=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an":"a";return(e.length>1&&n===e.length-1?"or ":"")+r+" "+t}).join(", "),s=i(t).toLowerCase();if(!e.some(function(t){return s===t}))throw new r(n+"object tested must be "+a+", but "+s+" given",void 0,u)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){
/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var r=n(1);t.exports=function(t,e){var n=r(t,"negate"),o=e[0];return n?!o:o}},function(t,e,n){"use strict";function r(t,e){return void 0!==t&&null!==t&&e in Object(t)}function o(t){return t.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(function(t){var e=/^\[(\d+)\]$/.exec(t);return e?{i:parseFloat(e[1])}:{p:t.replace(/\\([.\[\]])/g,"$1")}})}function i(t,e,n){var r=t,o=null;n=void 0===n?e.length:n;for(var i=0;i<n;i++){var u=e[i];r&&(r=void 0===u.p?r[u.i]:r[u.p],i===n-1&&(o=r))}return o}function u(t,e){var n=o(e),u=n[n.length-1],a={parent:n.length>1?i(t,n,n.length-1):t,name:u.p||u.i,value:i(t,n)};return a.exists=r(a.parent,a.name),a}t.exports={hasProperty:r,getPathInfo:u,getPathValue:function(t,e){return u(t,e).value},setPathValue:function(t,e,n){return function(t,e,n){for(var r=t,o=n.length,i=null,u=0;u<o;u++){var a=null,s=null;if(i=n[u],u===o-1)r[a=void 0===i.p?i.i:i.p]=e;else if(void 0!==i.p&&r[i.p])r=r[i.p];else if(void 0!==i.i&&r[i.i])r=r[i.i];else{var c=n[u+1];a=void 0===i.p?i.i:i.p,s=void 0===c.p?[]:{},r[a]=s,r=r[a]}}}(t,n,o(e)),t}}},function(t,e,n){
/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Dependencies that are used for multiple exports are required here only once
 */
var r=n(80);
/*!
 * test utility
 */e.test=n(79),
/*!
 * type utility
 */
e.type=n(21),
/*!
 * expectTypes utility
 */
e.expectTypes=n(77),
/*!
 * message utility
 */
e.getMessage=n(76),
/*!
 * actual utility
 */
e.getActual=n(37),
/*!
 * Inspect util
 */
e.inspect=n(12),
/*!
 * Object Display util
 */
e.objDisplay=n(34),
/*!
 * Flag utility
 */
e.flag=n(1),
/*!
 * Flag transferring utility
 */
e.transferFlags=n(3),
/*!
 * Deep equal utility
 */
e.eql=n(74),
/*!
 * Deep path info
 */
e.getPathInfo=r.getPathInfo,
/*!
 * Check if a property exists
 */
e.hasProperty=r.hasProperty,
/*!
 * Function name
 */
e.getName=n(36),
/*!
 * add Property
 */
e.addProperty=n(73),
/*!
 * add Method
 */
e.addMethod=n(72),
/*!
 * overwrite Property
 */
e.overwriteProperty=n(71),
/*!
 * overwrite Method
 */
e.overwriteMethod=n(70),
/*!
 * Add a chainable method
 */
e.addChainableMethod=n(69),
/*!
 * Overwrite chainable method
 */
e.overwriteChainableMethod=n(68),
/*!
 * Compare by inspect method
 */
e.compareByInspect=n(67),
/*!
 * Get own enumerable property symbols method
 */
e.getOwnEnumerablePropertySymbols=n(33),
/*!
 * Get own enumerable properties method
 */
e.getOwnEnumerableProperties=n(66),
/*!
 * Checks error against a given set of criteria
 */
e.checkError=n(65),
/*!
 * Proxify util
 */
e.proxify=n(9),
/*!
 * addLengthGuard util
 */
e.addLengthGuard=n(10),
/*!
 * isProxyEnabled helper
 */
e.isProxyEnabled=n(11),
/*!
 * isNaN method
 */
e.isNaN=n(64)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.v7JsToV8Js=e.v6JsToV7Js=e.v5JsToV6Js=e.fromAnyJsonToJs=void 0;u(n(22));var r=u(n(48)),o=u(n(45)),i=u(n(42));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.fromAnyJsonToJs=function(t,e){var n=void 0;switch(JSON.parse(e).version){case 5:void 0===n&&(n=r.toJs(r.fromJson(e))),n=s(n);case 6:void 0===n&&(n=o.toJs(o.fromJson(e))),n=c(n);case 7:void 0===n&&(n=i.toJs(i.fromJson(e))),n=f(n);case 8:void 0===n&&(n=t(e))}return n};var a=function(t){return t.reduce(function(t,e){return t+e},0)},s=e.v5JsToV6Js=function(t){var e=function(t){return(t=Object.assign({},t)).content=n(t.content),t},n=function(t){return delete(t=Object.assign({},t)).error_is_file,t.last_modified={max:t.last_modified,list:[t.last_modified],min:t.last_modified,median:t.last_modified,average:t.last_modified},t.nb_files=1,t},r=function(t,e){(e=Object.assign({},e)).table=Object.assign({},e.table);var r=function(t){var e={list:t.reduce(function(t,e){return t.concat(e.list)},[])};return e.max=function(t,e){return e.reduce(function(t,e){return Math.max(t,e)},t)}(0,e.list),e.min=function(t,e){return e.reduce(function(t,e){return Math.min(t,e)},t)}(Number.MAX_SAFE_INTEGER,e.list),e.median=function(t){if(t.length%2==1)return t[Math.floor(t.length/2)];var e=t.length/2;return(t[e-1]+t[e])/2}(e.list),e.average=function(t){return t.reduce(function(t,e){return t+e},0)/t.length}(e.list),e};return function o(i){var u=Object.assign({},e.table[i]);u.content=n(u.content),u.max_children_path_length=0,u.sum_children_path_length=0,u.parent_path_length=0,u.content.tags.forEach(function(e){return function(n){t[n]?!1===t[n].includes(e)&&t[n].push(e):t[n]=[e]}}(i));var s=function(t){return t.reduce(function(t,e){return t[0].push(e[0]),t[1].push(e[1]),t[2].push(e[2]),t},[[],[],[]])}(u.children.map(o));return s[0].length&&(u.content.size=a(s[0]),u.content.last_modified=r(s[1]),u.content.nb_files=a(s[2])),e.table[i]=u,[u.content.size,u.content.last_modified,u.content.nb_files]}(e.root_id),e};return function(t){(t=Object.assign({},t)).version=6,delete t.nb_push,t.content_queue=t.content_queue.map(e);var n={};return t.tree=r(n,t.tree),t.tags=n,t}(t)},c=e.v6JsToV7Js=function(t){var e=Object.assign({},t);return e.version=7,e},f=e.v7JsToV8Js=function(t){var e=Object.assign({},t);e.version=8,e.tags_sizes={};var n=e.tree.table,r=function(t){return t.sort(function(t,e){var r=n[t].content.size,o=n[e].content.size;return r>o?-1:r===o?0:1})},o=function t(e){if(e.length<=1)return e;var r=e[0],o=function t(e){var r=n[e].children;return r.concat(r.map(t).reduce(function(t,e){return t.concat(e)},[]))}(r),i=e.slice(1).filter(function(t){return!1===o.includes(t)});return[r].concat(t(i))},i=function(t){return t.reduce(function(t,e){return t+n[e].content.size},0)};for(var u in n)delete n[u].content.tags;for(var a in e.content_queue)delete e.content_queue[a].content.tags;for(var s in e.tags)e.tags_sizes[s]=i(o(r(e.tags[s])));return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readAsText=function(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(t){e(t.currentTarget.result)},r.readAsText(t)})},e.readAsArrayBuffer=function(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(t){e(t.currentTarget.result)},r.readAsArrayBuffer(t)})}},function(t,e,n){"use strict";n.r(e);n(0),n(83);var r=n(6),o=n(24);let i,u,a;const s=()=>{i=[],u=r.empty(),a=0};s(),onmessage=function(t){switch(t.data.cmd){case"push":c(t);break;case"pull":f(t)}};const c=t=>{const e=new Promise((e,n)=>{const i=t.data.parent_path,s=t.data.file,c=i+s.name,f={size:s.size,last_modified:s.lastModified};u=r.pushOnQueue(c,o.create(f),u),a++,postMessage({cmd:"pushCounter",push_counter:a}),e()});i.push(e)},f=t=>{Promise.all(i).then(()=>{u=r.makeTree(u),u=r.sortBySize(u),u=r.computeDerivatedData(u),u=r.toJs(u),postMessage({cmd:"pull",state:u}),s()})}}]);